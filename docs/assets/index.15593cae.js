import{d as Y}from"./vuedraggable.umd.13ffdc0e.js";import{R as O,c as v}from"./RightPanel.2964517f.js";import{t as j,d as B}from"./index.58028536.js";import{_ as G}from"./RenderPanel.vue_vue_type_script_setup_true_name_render-panel_lang.f444906d.js";import{_ as H}from"./preview.vue_vue_type_style_index_0_lang.8d08eeb1.js";import{g as J,c as K,d as U}from"./db.bf0a0f00.js";import{d as Q}from"./index.97b0ee19.js";import{S as c,e as h,f as g,g as r,z as s,m as d,x as f,y as I,n as X,j as Z,p as $,v as ee,F as S,B as te,l as le,ab as oe,ac as ae}from"./vue.df334614.js";import{_ as ne}from"./_plugin-vue_export-helper.c27b6911.js";import"./_commonjsHelpers.042e6b4d.js";import"./vue.runtime.esm-bundler.7d88586f.js";import"./TreeNodeDialog.268cbe72.js";import"./IconsDialog.3ffee3e9.js";import"./preload-helper.101896b7.js";const w=[{label:"单行输入框",showLabel:!0,tag:"el-input",tagIcon:"input",placeholder:"请输入",defaultValue:void 0,span:24,labelWidth:null,style:{width:"100%"},clearable:!0,prepend:"",append:"","prefix-icon":"","suffix-icon":"",maxlength:null,"show-word-limit":!1,readonly:!1,disabled:!1,required:!1,regList:[],__slot__:{},changeTag:!0,proCondition:!1,asSummary:!1},{label:"多行输入框",showLabel:!0,tag:"el-input",tagIcon:"textarea",type:"textarea",placeholder:"请输入",defaultValue:void 0,span:24,labelWidth:null,autosize:{minRows:4,maxRows:4},style:{width:"100%"},maxlength:null,"show-word-limit":!1,readonly:!1,disabled:!1,required:!1,regList:[],changeTag:!0,proCondition:!1,asSummary:!1},{label:"密码",showLabel:!0,tag:"el-input",tagIcon:"password",placeholder:"请输入",defaultValue:void 0,span:24,"show-password":!0,labelWidth:null,style:{width:"100%"},clearable:!0,prepend:"",append:"","prefix-icon":"","suffix-icon":"",maxlength:null,"show-word-limit":!1,readonly:!1,disabled:!1,required:!1,regList:[],changeTag:!0,proCondition:!1,asSummary:!1},{label:"数字输入框",showLabel:!0,tag:"el-input-number",tagIcon:"number",placeholder:"",defaultValue:void 0,style:{width:null},span:24,labelWidth:null,min:void 0,max:void 0,step:void 0,"step-strictly":!1,precision:void 0,"controls-position":"right",disabled:!1,required:!1,regList:[],changeTag:!0,proCondition:!0}],C=[{label:"下拉选择",showLabel:!0,tag:"el-select-wrap",tagIcon:"select",placeholder:"请选择",style:{width:"100%"},defaultValue:void 0,span:24,labelWidth:null,clearable:!0,disabled:!1,required:!1,filterable:!1,multiple:!1,options:[{label:"选项一",value:"选项一"},{label:"选项二",value:"选项二"}],regList:[],changeTag:!0,proCondition:!0},{label:"级联选择",showLabel:!0,tag:"el-cascader",tagIcon:"cascader",placeholder:"请选择",defaultValue:[],span:24,labelWidth:null,style:{width:"100%"},props:{props:{multiple:!1}},"show-all-levels":!0,disabled:!1,clearable:!0,filterable:!1,required:!1,options:[{id:1,value:"选项1",label:"选项1",children:[{id:2,value:"选项1-1",label:"选项1-1"}]}],dataType:"static",labelKey:"label",valueKey:"value",childrenKey:"children",separator:"/",regList:[],changeTag:!0,proCondition:!1,asSummary:!1},{label:"单选框组",showLabel:!0,tag:"el-radio-group-wrap",tagIcon:"radio",defaultValue:void 0,span:24,labelWidth:null,style:{},optionType:"default",border:!1,size:"medium",disabled:!1,required:!1,options:[{label:"选项一",value:"选项一"},{label:"选项二",value:"选项二"}],regList:[],changeTag:!0,proCondition:!0},{label:"多选框组",showLabel:!0,tag:"el-checkbox-group-wrap",tagIcon:"checkbox",defaultValue:[],span:24,labelWidth:null,style:{},optionType:"default",border:!1,size:"medium",disabled:!1,required:!1,options:[{label:"选项一",value:"选项一"},{label:"选项二",value:"选项二"}],regList:[],changeTag:!0,proCondition:!1,asSummary:!1},{label:"开关",showLabel:!0,tag:"el-switch",tagIcon:"switch",defaultValue:!1,span:24,labelWidth:null,style:{},disabled:!1,required:!1,"active-text":"","inactive-text":"","active-color":null,"inactive-color":null,"active-value":!0,"inactive-value":!1,regList:[],changeTag:!0,proCondition:!1,asSummary:!1},{label:"滑块",showLabel:!0,tag:"el-slider",tagIcon:"slider",defaultValue:null,span:24,labelWidth:null,disabled:!1,required:!1,min:0,max:100,step:1,"show-stops":!1,range:!1,regList:[],changeTag:!0,proCondition:!1,asSummary:!1},{label:"时间选择",showLabel:!0,tag:"el-time-picker",tagIcon:"time",placeholder:"请选择",defaultValue:null,span:24,labelWidth:null,style:{width:"100%"},disabled:!1,clearable:!0,required:!1,"picker-options":{selectableRange:"00:00:00-23:59:59"},format:"HH:mm:ss","value-format":"HH:mm:ss",regList:[],changeTag:!0,proCondition:!1,asSummary:!1},{label:"时间范围",showLabel:!0,tag:"fc-time-duration",showDuration:!1,tagIcon:"time-range",defaultValue:null,span:24,labelWidth:null,style:{width:"100%"},disabled:!1,clearable:!0,required:!1,"is-range":!0,"range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",format:"HH:mm:ss","value-format":"HH:mm:ss",regList:[],changeTag:!0,proCondition:!0,asSummary:!1},{label:"日期选择",showLabel:!0,tag:"el-date-picker",tagIcon:"date",placeholder:"请选择",defaultValue:null,type:"date",span:24,labelWidth:null,style:{width:"100%"},disabled:!1,clearable:!0,required:!1,format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",readonly:!1,regList:[],changeTag:!0,proCondition:!1,asSummary:!1},{label:"日期范围",showLabel:!0,tag:"fc-date-duration",showDuration:!1,tagIcon:"date-range",defaultValue:null,span:24,labelWidth:null,style:{width:"100%"},type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",disabled:!1,clearable:!0,required:!1,format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",readonly:!1,regList:[],changeTag:!0,proCondition:!0,asSummary:!1},{label:"评分",showLabel:!0,tag:"el-rate",tagIcon:"rate",defaultValue:0,span:24,labelWidth:null,style:{},max:5,"allow-half":!1,"show-text":!1,"show-score":!1,disabled:!1,required:!1,regList:[],changeTag:!0,proCondition:!1,asSummary:!1},{label:"颜色选择",showLabel:!0,tag:"el-color-picker",tagIcon:"color",defaultValue:null,labelWidth:null,"show-alpha":!1,"color-format":"",disabled:!1,required:!1,size:"medium",regList:[],changeTag:!0,proCondition:!1,asSummary:!1},{label:"附件",showLabel:!0,tag:"el-upload-wrap",tagIcon:"upload",action:"https://localhost/upload/",defaultValue:[],labelWidth:null,disabled:!1,required:!1,accept:"",name:"file","auto-upload":!0,showTip:!1,buttonText:"点击上传附件",fileSize:20,sizeUnit:"MB","list-type":"text",multiple:!1,regList:[],changeTag:!0,proCondition:!1,asSummary:!1}],E=[{layout:"rowFormItem",tag:"el-row",cols:[{span:12,children:[]},{span:12,children:[]}],rowType:"layout",tagIcon:"row",type:"default",justify:"start",align:"top",label:"行容器",layoutTree:!0,children:[],showDivider:!0,description:"为提供足够灵活性，没有限制行容器子项必须为列容器"},{layout:"rowFormItem",tag:"el-col",span:8,offset:0,cols:[{span:12,children:[]},{span:12,children:[]}],rowType:"layout",tagIcon:"col",type:"default",justify:"start",label:"列容器",children:[],description:"为提供足够灵活性，没有限制列必须在行容器内"},{showLabel:!1,tag:"el-tabs",span:24,tabPosition:"top",disabled:!1,tagIcon:"tab",children:[],tabpanes:[{label:"Tab1",value:"Tab1",content:"tab1",children:[]},{label:"Tab2",value:"Tab2",content:"tab2",children:[]}],activeName:"Tab1",type:"border-card",justify:"start",align:"top",label:"标签页",layoutTree:!1,actionText:"添加",showDivider:!0,defaultValue:"Tab1"},{layout:"rowFormItem",tag:"el-table",rowType:"table",tagIcon:"table",showLabel:!0,type:"table",justify:"start",align:"top",label:"表格/明细",layoutTree:!1,children:[],actionText:"添加",tableConf:{},"show-summary":!0,defaultValue:[]},{label:"按钮",showLabel:!0,changeTag:!0,labelWidth:null,showLabel:!0,tag:"el-button",tagIcon:"button",defaultValue:void 0,span:24,__slot__:{default:"主要按钮"},layout:"colFormItem",type:"primary",icon:"ele-Search",round:!1,size:"medium",plain:!1,circle:!1,disabled:!1,document:"https://element.eleme.cn/#/zh-CN/component/button"}];[...w,...C,...E].map(e=>Object.assign({cmpType:"common"},e));const u=(e,t)=>e.find(l=>l.tag===t),k=(e,t)=>{const l=(o,i={})=>{const p=JSON.parse(JSON.stringify(o));return Object.assign({},p,{cmpType:"custom"},i)},a=l(E[0],e);return a.children=t.map(o=>l(o.target,o.config)),a};k({label:"请假组件",explain:null},[{target:u(C,"el-select-wrap"),config:{label:"请假类型",required:!0,options:[{label:"病假",value:"病假"},{label:"事假",value:"事假"},{label:"婚假",value:"婚假"},{label:"丧假",value:"丧假"},{label:"产假",value:"产假"},{label:"年假",value:"年假"}]}},{target:u(C,"fc-date-duration"),config:{required:!0,label:"日期范围",showDuration:!0}}]),k({label:"出差组件",explain:null},[{target:u(w,"el-input"),config:{label:"出差事由",required:!0}},{target:u(C,"el-select-wrap"),config:{label:"交通工具",required:!0,options:[{label:"火车",value:"火车"},{label:"飞机",value:"飞机"},{label:"汽车",value:"汽车"},{label:"其他",value:"其他"}]}},{target:u(C,"el-select-wrap"),config:{label:"单程往返",required:!0,options:[{label:"单程",value:"单程"},{label:"往返",value:"往返"}]}},{target:u(w,"el-input"),config:{label:"出发城市",required:!0}},{target:u(w,"el-input"),config:{label:"目的城市",required:!0}},{target:u(C,"fc-date-duration"),config:{label:"日期范围",showLabel:!0,tag:"fc-date-duration",showDuration:!0,required:!0}},{target:u(w,"el-input"),config:{label:"出差备注",required:!1}},{target:u(w,"el-input"),config:{label:"同行人",required:!1}}]);let L;const V=J(),ie={name:"ai-form-designer",components:{draggable:Y,RightPanel:O,RenderPanel:G,PreviewPanel:H},props:["tabName","conf"],inject:["updateFlow","updateFormItemList"],data(){K();const e=[];return{isErrorShow:!1,validResults:[],formConf:v.formConf,customComponents:v.customComponents,inputComponents:v.inputComponents,selectComponents:v.selectComponents,layoutComponents:v.layoutComponents,customGroupComponents:v.customGroupComponents,labelWidth:100,drawingList:e,drawingData:{},activeId:"",drawerVisible:!1,dialogVisible:!1,generateConf:null,showFileName:!1,activeData:{},activeTabName:"custom",deviceMode:"portrait",drawerSize:"490px",flowConditions:[]}},watch:{drawingList:{handler(e){e&&(this.afterDrawingChange||(this.afterDrawingChange=Q(this.handlerListChange,400)),this.afterDrawingChange())},deep:!0,immediate:!0}},created(){typeof this.conf=="object"&&this.conf!==null?(this.drawingList=this.conf.formItems||[],Object.assign(this.formConf,this.conf)):V&&(this.formConf=V),this.formConf.model={},this.formConf.mode="designer",this.$nextTick(e=>this.getDeviceMode())},computed:{bpm(){return{flowCondicitons:[]}}},provide(){return{activeFormItem:this.activeFormItem,deleteItem:this.drawingItemDelete,copyItem:this.drawingItemCopy,addPCondition:this.addPCondition,delPCondition:this.delPCondition}},methods:{getDeviceMode(){},getSetting(){return new Promise((e,t)=>{this.validResults=[],this.drawingList.length===0&&this.validResults.push("表单不允许为空"),this.isEmptyRowContainer()&&this.validResults.push("您的行容器中没有组件"),this.validResults.length>0&&(this.isErrorShow=!0,t()),this.drawingList&&this.drawingList.length>0&&e({...this.formConf,formItems:JSON.parse(JSON.stringify(this.drawingList))}),e(!1)})},hasCondition(e,t=!1){let l=this.flowConditions.findIndex(a=>a.formId===e);return t?l:l>-1},addPCondition(e){e.formId===null||e.formId===void 0||(this.hasCondition(e.formId)||this.flowConditions.unshift(e),this.updateFlow({list:this.drawingList,conditions:this.flowConditions}))},delPCondition(e){if(e==null)return;let t=this.hasCondition(e,!0),l=this.flowConditions;t>-1&&l.splice(t,1)},clearPCondition(){this.flowConditions=[]},handlerListChange(e){this.clearPCondition();const t=(a,o)=>!(["fc-date-duration","fc-time-duration"].includes(a.tag)&&!a.showDuration||o&&o.rowType==="table"||!a.proCondition||!a.required||a.tag==="el-select"&&a.multiple),l=(a,o)=>{a&&(Array.isArray(a.children)&&a.children.forEach(i=>l(i,a)),Array.isArray(a)?a.forEach(l):t(a,o)?this.addPCondition(a):this.delPCondition(a.formId))};l(this.drawingList),U(this.drawingList),this.updateFormItemList(this.drawingList)},shouldClone(e,t,l,a,o){const i=l._underlying_vm_;return o.cmpType==="common"&&o.rowType==="layout"?!0:!(o.cmpType==="custom"||o.rowType==="table"&&(i.layout==="rowFormItem"||this.isFilledPCon([i.formId])))},activeFormItem(e){e&&(this.activeData=e,this.formConf.activeId=e.formId)},onEnd(e,t){e.from!==e.to&&(this.activeId=L.formId,this.activeData=L)},onMianDragEnd(e,t){this.activeFormItem(this.drawingList[e.newIndex])},getSameTagCmpNum(e){return this.drawingList.reduce((t,l)=>l.children?t+l.children.reduce((a,o)=>o.tag===e?a+1:a,0):l.tag===e?t+1:t,0)},createCmpLabel(e){const t=this.getSameTagCmpNum(e.tag);return t?e.label+t:e.label},addComponent(e){const t=this.cloneComponent(e);this.drawingList.push(t),this.activeFormItem(t)},getMaxId(){if(this.drawingList.length){let e=0;const t=(l,a)=>{l&&(Array.isArray(l.children)&&l.children.forEach(o=>t(o)),Array.isArray(l)?l.forEach(t):e=Math.max(l.formId,e))};return t(this.drawingList),e}return 0},getNextId(){return new Date().getTime()},cloneComponent(e){const t=JSON.parse(JSON.stringify(e));return t.formId=`${this.getNextId()}`,t.layout||(t.layout="colFormItem"),t.layout==="colFormItem"?(t.label=this.createCmpLabel(t),t.vModel=`field${t.formId}`,t.placeholder!==void 0&&(t.placeholder+=t.label),L=t):t.layout==="rowFormItem"&&(t.rowType==="table"&&(t.vModel=`field${t.formId}`),t.componentName=`row${t.formId}`,t.gutter=this.formConf.gutter,this.cloneChildrenOfRowFormItem(t),L=t),L},cloneChildrenOfRowFormItem(e){e.children&&e.children.length&&e.children.forEach((l,a)=>{l.formId=e.formId+a+1,l.__ID=l.formId+new Date().getTime(),l.layout||(l.layout="colFormItem"),l.layout==="colFormItem"?(l.vModel=`field${l.formId}`,l.placeholder!==void 0&&(l.placeholder+=l.label)):l.layout==="rowFormItem"&&(delete l.label,l.componentName=`row${l.formId}`,l.gutter=this.formConf.gutter,this.cloneChildrenOfRowFormItem(l))})},isEmptyRowContainer(){const e=this.drawingList.find(t=>t.layout==="rowFormItem");if(e)return e.children.length===0},preview(){var e=JSON.parse(JSON.stringify(this.drawingList));this.$refs.previewPanelRef.open(e)},generate(e){const t=this[`exec${j(this.operationType)}`];this.generateConf=e,t&&t(e)},execCopy(e){document.getElementById("copyNode").click()},empty(){if(this.isFilledPCon()){this.$message.warning("尚有组件已作为流程判断条件，无法删除");return}this.$confirm("确定要清空所有组件吗？","提示",{type:"warning"}).then(()=>{this.drawingList=[],this.clearPCondition()})},createIdAndKey(e){return e.formId=this.getNextId(),e.layout==="colFormItem"?e.vModel=`field${e.formId}`:e.layout==="rowFormItem"&&(e.componentName=`row${e.formId}`),Array.isArray(e.children)&&(e.children=e.children.map(t=>this.createIdAndKey(t))),e},isFilledPCon(e){},checkColItem(e){return e?!!this.bpm.flowCondicitons.find(l=>l.formId==e.formId)&&this.isFilledPCon([e.formId]):!1},isProCondition(e){if(Array.isArray(e.children)&&e.children.length){if(e.rowType==="table")return!1;let t=!1;const l=a=>{t||Array.isArray(a)&&a.some(o=>(o.children&&l(o.children),this.checkColItem(o)))&&(t=!0)};return l(e.children),t}else return this.checkColItem(e)},drawingItemCopy(e,t){let l=B(e);l=this.createIdAndKey(l),t.push(l),this.activeFormItem(l)},drawingItemDelete(e,t){if(this.isProCondition(t[e])){this.$message.warning("该组件已作为流程判断条件，无法删除");return}this.delPCondition(t[e].formId),t.splice(e,1),this.$nextTick(()=>{const l=this.drawingList.length;l&&this.activeFormItem(this.drawingList[l-1])})},run(){this.dialogVisible=!0,this.showFileName=!1,this.operationType="run"},tagChange(e){e=this.cloneComponent(e),e.vModel=this.activeData.vModel,e.formId=this.activeId,e.span=this.activeData.span,delete this.activeData.tag,delete this.activeData.tagIcon,Object.keys(e).forEach(t=>{this.activeData[t]!==void 0&&typeof this.activeData[t]==typeof e[t]&&(e[t]=this.activeData[t])}),this.activeData=e,this.updateDrawingList(e,this.drawingList)},updateDrawingList(e,t){const l=t.findIndex(a=>a.formId===this.activeId);l>-1?t.splice(l,1,e):t.forEach(a=>{Array.isArray(a.children)&&this.updateDrawingList(e,a.children)})}}},b=e=>(oe("data-v-c6e3acd0"),e=e(),ae(),e),se={class:"container"},re={class:"left-board"},de={class:"components-list"},ce=b(()=>r("div",{class:"components-title"}," 工作流组件",-1)),ue=["onClick"],fe={class:"components-body"},me=b(()=>r("div",{class:"components-title"}," 组合型组件",-1)),pe=["onClick"],he={class:"components-body"},ge={class:"components-list"},be=b(()=>r("div",{class:"components-title"}," 输入型组件",-1)),ve=["onClick"],we={class:"components-body"},Ce=b(()=>r("div",{class:"components-title"}," 选择型组件",-1)),ye=["onClick"],_e={class:"components-body"},Ie=b(()=>r("div",{class:"components-title"}," 布局型组件",-1)),Le=["onClick"],xe={class:"components-body"},De={class:"center-board"},Te={class:"action-bar"},Se=f("手机 "),ke=f("电脑"),Ve=f("预览"),Ee=f("清空"),Pe={id:"device",ref:"device"},Fe={class:"devicebody"},qe={class:"devicescreen"},Ne={class:"empty-info"},Me=b(()=>r("div",{class:"devicecamera"},null,-1)),Re=b(()=>r("input",{id:"copyNode",type:"hidden"},null,-1)),ze={class:"dialog-footer"},Ae=f("知道了");function We(e,t,l,a,o,i){const p=c("SvgIcon"),y=c("draggable"),D=c("el-tab-pane"),P=c("el-tabs"),T=c("el-scrollbar"),_=c("el-button"),F=c("el-button-group"),q=c("render-panel"),N=c("el-form"),M=c("el-tooltip"),R=c("right-panel"),z=c("el-alert"),A=c("el-dialog"),W=c("PreviewPanel");return h(),g(S,null,[r("div",se,[r("div",re,[s(T,{class:"left-scrollbar"},{default:d(()=>[s(P,{modelValue:o.activeTabName,"onUpdate:modelValue":t[2]||(t[2]=n=>o.activeTabName=n),stretch:!0},{default:d(()=>[s(D,{label:"定制组件",name:"custom"},{default:d(()=>[r("div",de,[ce,s(y,{class:"components-draggable",modelValue:o.customComponents,"onUpdate:modelValue":t[0]||(t[0]=n=>o.customComponents=n),group:{name:"componentsGroup",pull:"clone",put:!1},clone:i.cloneComponent,draggable:".components-item",sort:!1,onEnd:i.onEnd,"item-key":"index"},{item:d(({element:n,index:m})=>[(h(),g("div",{key:m,class:"components-item",onClick:x=>i.addComponent(n)},[r("div",fe,[s(p,{name:"/assets/bpm/svg/"+n.tagIcon+".svg",class:"svg-icon",size:"18",color:"var(--el-color-primary)"},null,8,["name"]),f(" "+I(n.label),1)])],8,ue))]),_:1},8,["modelValue","clone","onEnd"]),me,s(y,{class:"components-draggable",list:o.customGroupComponents,group:{name:"componentsGroup",pull:"clone",put:!1},clone:i.cloneComponent,draggable:".components-item",sort:!1,onEnd:i.onEnd,"item-key":"id"},{item:d(({element:n,index:m})=>[(h(),g("div",{key:m,class:"components-item custom-component",onClick:x=>i.addComponent(n)},[r("div",he,[s(p,{name:"/assets/bpm/svg/"+n.tagIcon+".svg",class:"svg-icon",size:"18",color:"var(--el-color-warning)"},null,8,["name"]),f(" "+I(n.label),1)])],8,pe))]),_:1},8,["list","clone","onEnd"])])]),_:1}),s(D,{label:"基础组件",name:"common"},{default:d(()=>[r("div",ge,[be,s(y,{class:"components-draggable",modelValue:o.inputComponents,"onUpdate:modelValue":t[1]||(t[1]=n=>o.inputComponents=n),group:{name:"componentsGroup",pull:"clone",put:!1},clone:i.cloneComponent,draggable:".components-item",sort:!1,onEnd:i.onEnd,"item-key":"index"},{item:d(({element:n,index:m})=>[(h(),g("div",{key:m,class:"components-item",onClick:x=>i.addComponent(n)},[r("div",we,[f(I(n.label)+" ",1),s(p,{name:"/assets/bpm/svg/"+n.tagIcon+".svg",class:"svg-icon",size:"18",color:"var(--el-color-primary)"},null,8,["name"])])],8,ve))]),_:1},8,["modelValue","clone","onEnd"]),Ce,s(y,{class:"components-draggable",list:o.selectComponents,group:{name:"componentsGroup",pull:"clone",put:!1},clone:i.cloneComponent,draggable:".components-item",sort:!1,onEnd:i.onEnd},{item:d(({element:n,index:m})=>[(h(),g("div",{key:m,class:"components-item",onClick:x=>i.addComponent(n)},[r("div",_e,[f(I(n.label)+" ",1),s(p,{name:"/assets/bpm/svg/"+n.tagIcon+".svg",class:"svg-icon",size:"18",color:"var(--el-color-primary)"},null,8,["name"])])],8,ye))]),_:1},8,["list","clone","onEnd"]),Ie,s(y,{class:"components-draggable",list:o.layoutComponents,group:{name:"componentsGroup",pull:"clone",put:!1},clone:i.cloneComponent,draggable:".components-item",sort:!1,onEnd:i.onEnd},{item:d(({element:n,index:m})=>[(h(),g("div",{key:m,class:"components-item",onClick:x=>i.addComponent(n)},[r("div",xe,[f(I(n.label)+" ",1),s(p,{name:"/assets/bpm/svg/"+n.tagIcon+".svg",class:"svg-icon",size:"18",color:"var(--el-color-danger)"},null,8,["name"])])],8,Le))]),_:1},8,["list","clone","onEnd"])])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),r("div",De,[r("div",Te,[s(F,{style:{"padding-top":"10px"}},{default:d(()=>[s(_,{onClick:t[3]||(t[3]=n=>o.drawerSize="390px"),icon:"ele-Cellphone",title:"手机"},{default:d(()=>[Se]),_:1}),s(_,{onClick:t[4]||(t[4]=n=>o.drawerSize="100%"),icon:"ele-Monitor",title:"电脑"},{default:d(()=>[ke]),_:1}),s(_,{icon:"ele-View",plain:"",onClick:i.preview,title:"预览"},{default:d(()=>[Ve]),_:1},8,["onClick"]),s(_,{icon:"ele-Delete",plain:"",onClick:i.empty,title:"清空"},{default:d(()=>[Ee]),_:1},8,["onClick"])]),_:1})]),r("div",Pe,[r("div",{class:X(["outerdevice",[o.deviceMode]]),style:Z({width:o.drawerSize})},[r("div",Fe,[r("div",qe,[s(T,{class:"center-scrollbar",style:{}},{default:d(()=>[s(N,{model:o.formConf.model,class:"drawing-board",size:o.formConf.size,"label-position":o.formConf.labelPosition,disabled:o.formConf.disabled,"label-width":o.formConf.labelWidth+"px"},{default:d(()=>[s(q,{list:o.drawingList,animation:200,group:"componentsGroup",onEnd:i.onMianDragEnd,tag:"el-row",conf:o.formConf,style:{marginLeft:0,alignContent:"start",height:"100%"},gutter:o.formConf.gutter},null,8,["list","onEnd","conf","gutter"])]),_:1},8,["model","size","label-position","disabled","label-width"]),$(r("div",Ne,"从左侧拖入或点选组件进行表单设计",512),[[ee,!o.drawingList.length]])]),_:1})]),Me,s(M,{effect:"dark",content:"切换横/竖模式",placement:"top"},{default:d(()=>[r("div",{class:"devicehomebutton",onClick:t[5]||(t[5]=n=>o.deviceMode=o.deviceMode==="landscape"?"portrait":"landscape")})]),_:1})])],6)],512)]),s(R,{"active-data":o.activeData,"form-conf":o.formConf,"show-field":o.drawingList&&o.drawingList.length,"could-change-require":!i.isProCondition(o.activeData),list:o.drawingList,onTagChange:i.tagChange},null,8,["active-data","form-conf","show-field","could-change-require","list","onTagChange"]),Re]),s(A,{modelValue:o.isErrorShow,"onUpdate:modelValue":t[7]||(t[7]=n=>o.isErrorShow=n),title:"验证提示"},{footer:d(()=>[r("span",ze,[s(_,{onClick:t[6]||(t[6]=n=>o.isErrorShow=!1)},{default:d(()=>[Ae]),_:1})])]),default:d(()=>[(h(!0),g(S,null,te(o.validResults,n=>(h(),le(z,{type:"error",title:n,style:{"margin-bottom":"10px"}},null,8,["title"]))),256))]),_:1},8,["modelValue"]),s(W,{ref:"previewPanelRef"},null,512)],64)}const tt=ne(ie,[["render",We],["__scopeId","data-v-c6e3acd0"]]);export{tt as default};

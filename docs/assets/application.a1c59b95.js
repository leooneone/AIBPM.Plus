import{_ as R}from"./preload-helper.101896b7.js";import{W as $}from"./WorkflowTemplate.8c5ea799.js";import{g as j}from"./http-client.193f2c5b.js";import{d as B,a6 as M,r as W,c as h,O as J,o as q,S as c,a4 as I,p as b,e,f as l,l as d,m as p,F as k,B as w,z as f,u as C,x as S,L as G,g as a,y as _,n as v,j as g}from"./vue.72f2672d.js";import{_ as H}from"./_plugin-vue_export-helper.c27b6911.js";import"./http-client.180deef4.js";import"./index.57385bce.js";import"./index.0c380c40.js";import"./index.41e0794f.js";import"./storage.6b2e7cd0.js";const K=S("新建流程模板"),Q={class:"home-container",style:{margin:"10px 10px 10px 10px"}},U={style:{"border-left":"3px solid #409eff","padding-left":"5px","margin-bottom":"5px","font-size":"20px"}},X=["onClick"],Y={class:"flex-auto"},Z={class:"font22"},ee={class:"mt10"},oe=B({name:"bpm/application"}),ae=B({...oe,setup(te){const z=M(()=>R(()=>import("./myForm.b764704a.js"),["assets/myForm.b764704a.js","assets/preload-helper.101896b7.js","assets/data-contracts.9d84138f.js","assets/http-client.180deef4.js","assets/index.57385bce.js","assets/index.0c380c40.js","assets/vue.72f2672d.js","assets/index.41e0794f.js","assets/storage.6b2e7cd0.js","assets/_plugin-vue_export-helper.c27b6911.js","assets/myForm.8bf82b27.css"])),{proxy:P}=G(),{dic_bpm_group:O}=P.$dict("bpm-group"),y=W();h(()=>"https://demo.aibpm.ailicloud.com/api/admin/file/upload-file"),h(()=>({Authorization:"Bearer "+j()}));const o=J({loading:!0,pageInput:{currentPage:1,pageSize:20},templates:[]}),T=(t,m)=>{let n={};return t.forEach(function(r){let i=JSON.stringify(m(r));n[i]=n[i]||[],n[i].push(r)}),Object.keys(n).map(function(r){return n[r]})},A=async()=>{o.loading=!0;const t=await new $().listPublished();t.success&&(o.templates=T(t.data,function(m){return[m.groupId]})),o.templates={1:[{name:"a",group:"aaa",version:12,icon:"",groupId:1},{name:"a",group:"aaa",version:12,icon:"",groupId:1},{name:"a",group:"aaa",version:12,icon:"",groupId:1},{name:"a",group:"aaa",version:12,icon:"",groupId:1},{name:"a",group:"aaa",version:12,icon:"",groupId:1}],2:[{name:"a",group:"aaa",version:12,icon:"",groupId:1},{name:"a",group:"aaa",version:12,icon:"",groupId:1},{name:"a",group:"aaa",version:12,icon:"",groupId:1},{name:"a",group:"aaa",version:12,icon:"",groupId:1},{name:"a",group:"aaa",version:12,icon:"",groupId:1}]},o.loading=!1},D=t=>{y.value.open({type:2,templateId:t})};return q(()=>{A()}),(t,m)=>{const n=c("el-button"),r=c("el-empty"),i=c("el-tag"),E=c("SvgIcon"),F=c("el-col"),L=c("el-row"),N=I("auth"),V=I("loading");return b((e(),l("section",null,[!o.loading&&o.templates.length===0?(e(),d(r,{key:0,description:"没有流程模板可用"},{default:p(()=>[b((e(),d(n,{class:"ele-Plus",type:"primary"},{default:p(()=>[K]),_:1})),[[N,"api:bpm:template:control"]])]),_:1})):(e(!0),l(k,{key:1},w(o.templates,x=>(e(),l("section",Q,[a("div",U,_(C(O)[x[0].groupId]),1),f(L,{gutter:15,class:"home-card-one mb15"},{default:p(()=>[(e(!0),l(k,null,w(x,(s,u)=>(e(),d(F,{xs:24,sm:12,md:12,lg:6,xl:6,key:u,style:{"margin-top":"15px"},class:v({"home-media home-media-lg":u>1,"home-media-sm":u===1})},{default:p(()=>[a("div",{class:"home-card-item flex",onClick:ne=>D(s.id),style:{cursor:"pointer"}},[a("div",{class:v(["flex-margin flex w100",` home-one-animation${u}`])},[a("div",Y,[a("span",Z,_(s.name||"未命名流程"),1),a("span",{class:"ml5 font16",style:g({color:"var(--next-color-danger-lighter))"})},[f(i,null,{default:p(()=>[S("版本："+_(s.version),1)]),_:2},1024)],4),a("div",ee,_(s.remark),1)]),a("div",{class:"home-card-item-icon flex",style:g({background:"var(--next-color-success-lighter)"})},[s.icon.indexOf("ele")===0?(e(),d(E,{key:0,class:"flex-margin font32",name:s.icon,style:g({color:"var(--el-color-success)"})},null,8,["name","style"])):(e(),l("i",{key:1,class:v(["flex-margin font32",s.icon]),style:g({color:"var(--el-color-success)"})},null,6))],4)],2)],8,X)]),_:2},1032,["class"]))),128))]),_:2},1024)]))),256)),f(C(z),{ref_key:"formRef",ref:y},null,512)])),[[V,o.loading]])}}});const ge=H(ae,[["__scopeId","data-v-69812a88"]]);export{ge as default};

import{D as f}from"./DictionaryType.99dde656.js";import{e as U}from"./mitt.7f99bbc0.js";import{d as g,r as k,O as S,K as z,S as d,e as T,f as q,z as o,m as t,g as B,u as n,x as _,L as N}from"./vue.df334614.js";import"./http-client.ff22776c.js";import"./index.de963593.js";import"./index.390778f0.js";import"./index.4621962e.js";import"./storage.08e609be.js";import"./js.cookie.cf83ad76.js";const R={class:"dialog-footer"},M=_("取 消"),A=_("确 定"),E=g({name:"bpm/dictionaryType/typeForm"}),P=g({...E,props:{title:{type:String,default:""}},setup(V,{expose:w}){const{proxy:x}=N(),p=k(),l=S({showDialog:!1,sureLoading:!1,form:{}}),{form:a}=z(l),b=async(r={})=>{if(r.id>0){const e=await new f().get({id:r.id},{loading:!0}).catch(()=>{x.$modal.closeLoading()});e!=null&&e.success&&(l.form=e.data)}else l.form={};l.showDialog=!0},y=()=>{l.showDialog=!1},h=()=>{p.value.validate(async r=>{if(!r)return;l.sureLoading=!0;let e={};l.form.id!=null&&l.form.id>0?e=await new f().update(l.form,{showSuccessMessage:!0}).catch(()=>{l.sureLoading=!1}):e=await new f().add(l.form,{showSuccessMessage:!0}).catch(()=>{l.sureLoading=!1}),l.sureLoading=!1,e!=null&&e.success&&(U.emit("refreshDictType"),l.showDialog=!1)})};return w({open:b}),(r,e)=>{const m=d("el-input"),u=d("el-form-item"),i=d("el-col"),v=d("el-switch"),D=d("el-row"),L=d("el-form"),c=d("el-button"),C=d("el-dialog");return T(),q("div",null,[o(C,{modelValue:l.showDialog,"onUpdate:modelValue":e[5]||(e[5]=s=>l.showDialog=s),"destroy-on-close":"",title:V.title,draggable:"",width:"769px"},{footer:t(()=>[B("span",R,[o(c,{onClick:y,size:"default"},{default:t(()=>[M]),_:1}),o(c,{type:"primary",onClick:h,size:"default",loading:l.sureLoading},{default:t(()=>[A]),_:1},8,["loading"])])]),default:t(()=>[o(L,{ref_key:"formRef",ref:p,model:n(a),size:"default","label-width":"80px"},{default:t(()=>[o(D,{gutter:35},{default:t(()=>[o(i,{xs:24,sm:24,md:24,lg:24,xl:24},{default:t(()=>[o(u,{label:"名称",prop:"name",rules:[{required:!0,message:"请输入企业名称",trigger:["blur","change"]}]},{default:t(()=>[o(m,{modelValue:n(a).name,"onUpdate:modelValue":e[0]||(e[0]=s=>n(a).name=s),autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1}),o(i,{xs:24,sm:24,md:24,lg:24,xl:24},{default:t(()=>[o(u,{label:"编码",prop:"code",rules:[{required:!0,message:"请输入企业编码",trigger:["blur","change"]}]},{default:t(()=>[o(m,{modelValue:n(a).code,"onUpdate:modelValue":e[1]||(e[1]=s=>n(a).code=s),autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1}),o(i,{xs:24,sm:24,md:24,lg:24,xl:24},{default:t(()=>[o(u,{label:"值",prop:"value",rules:[{required:!0,message:"请输入值",trigger:["blur","change"]}]},{default:t(()=>[o(m,{modelValue:n(a).value,"onUpdate:modelValue":e[2]||(e[2]=s=>n(a).value=s),autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1}),o(i,{xs:24,sm:12,md:12,lg:12,xl:12},{default:t(()=>[o(u,{label:"启用"},{default:t(()=>[o(v,{modelValue:n(a).enabled,"onUpdate:modelValue":e[3]||(e[3]=s=>n(a).enabled=s)},null,8,["modelValue"])]),_:1})]),_:1}),o(i,{xs:24,sm:24,md:24,lg:24,xl:24},{default:t(()=>[o(u,{label:"说明"},{default:t(()=>[o(m,{modelValue:n(a).description,"onUpdate:modelValue":e[4]||(e[4]=s=>n(a).description=s),clearable:"",type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}});export{P as default};

import{d as k,J as x,r as C,O as w,S as s,e as y,l as h,m as l,g as N,z as a,t as R,x as d}from"./vue.72f2672d.js";const S={class:"dialog-footer"},B=d("不同意"),$=d(" 同意 "),E=k({__name:"approvePanel",props:{approveSetting:Object},setup(f,{expose:c}){const m=f,_=x("submitForm"),i=C(),e=w({form:{approvalResult:"",comment:""},rules:{},visible:!1}),p=r=>{var o;(o=i.value)==null||o.validate(n=>{if(n)e.form.approvalResult=r,_(e.form),e.visible=!1;else return this.$message.error("验证失败"),!1})};return c({open:()=>{var r;e.form={approvalResult:null,comment:""},(r=m.approveSetting)!=null&&r.remarkRequired&&(e.rules={comment:[{required:!0,message:"请输入审批意见",trigger:["blur","change"]}]}),e.visible=!0}}),(r,o)=>{const n=s("el-input"),v=s("el-form-item"),b=s("el-form"),u=s("el-button"),g=s("el-dialog");return e.visible?(y(),h(g,{key:0,modelValue:e.visible,"onUpdate:modelValue":o[3]||(o[3]=t=>e.visible=t),title:"审批意见",width:"50%"},{footer:l(()=>[N("span",S,[a(u,{onClick:o[1]||(o[1]=t=>p(!1))},{default:l(()=>[B]),_:1}),a(u,{type:"primary",onClick:o[2]||(o[2]=t=>p(!0))},{default:l(()=>[$]),_:1})])]),default:l(()=>[a(b,{ref_key:"formEl",ref:i,model:e.form,rules:e.rules,"label-position":"top"},{default:l(()=>[a(v,{prop:"comment",label:"审批意见"},{default:l(()=>{var t;return[a(n,{rows:10,type:"textarea",modelValue:e.form.comment,"onUpdate:modelValue":o[0]||(o[0]=V=>e.form.comment=V),maxlength:"300",placeholder:(t=m.approveSetting)==null?void 0:t.remarkTip,"show-word-limit":""},null,8,["modelValue","placeholder"])]}),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])):R("",!0)}}});export{E as default};

import{_ as C}from"./preload-helper.101896b7.js";import{d as F,a6 as B,r as R,J as S,O as h,S as l,e as n,l as r,m as a,g as m,z as s,u as O,f as E,B as N,F as U,x as i,y as j}from"./vue.72f2672d.js";const w=i(" 请选择"),z={style:{float:"left"}},A={style:{float:"right",color:"var(--el-text-color-secondary)","font-size":"13px"}},L=i("用户"),T={class:"dialog-footer"},$=i("取消"),q=i(" 确认 "),H=F({__name:"optionalPanel",props:{optional:{type:Object,default:u=>{}}},setup(u,{expose:c}){const p=u,f=B(()=>C(()=>import("./index.972b8136.js"),["assets/index.972b8136.js","assets/user-select.3de4c006.js","assets/User.7b8f477f.js","assets/http-client.193f2c5b.js","assets/index.57385bce.js","assets/index.0c380c40.js","assets/vue.72f2672d.js","assets/index.41e0794f.js","assets/storage.6b2e7cd0.js","assets/org-menu.vue_vue_type_script_setup_true_lang.44f66112.js","assets/Org.a1ce8cb9.js","assets/tree.d5b28a07.js","assets/index.79e12c01.js","assets/index.1e09e151.js","assets/index.eead254e.js","assets/_Uint8Array.e4cf923d.js","assets/index.55c7ed79.js","assets/_initCloneObject.7b8933bc.js","assets/focus-trap.c8a23a9c.js","assets/_plugin-vue_export-helper.c27b6911.js","assets/user-select.9baf66be.css","assets/org-select.vue_vue_type_script_setup_true_lang.940de93a.js","assets/role-select.vue_vue_type_script_setup_true_lang.2c88811a.js","assets/Role.ffc550a0.js","assets/index.c0eb9a2b.css"])),d=R(),g=S("submitForm"),e=h({formData:{optionalParticipants:{}},rules:{optionalParticipants:[{required:!0,message:"请选择审批人",trigger:"change"}]},visible:!1}),v=b=>{d.value.validate(t=>{t&&(g(e.formData),e.visible=!1)})};return c({open:()=>{e.formData={optionalParticipants:{}},e.visible=!0}}),(b,t)=>{const y=l("el-tag"),V=l("el-option"),P=l("el-select"),k=l("el-form-item"),D=l("el-form"),_=l("el-button"),x=l("el-dialog");return n(),r(x,{modelValue:e.visible,"onUpdate:modelValue":t[4]||(t[4]=o=>e.visible=o),title:"发起人自选",width:"50%"},{footer:a(()=>[m("span",T,[s(_,{onClick:t[2]||(t[2]=o=>e.visible=!1)},{default:a(()=>[$]),_:1}),s(_,{type:"primary",onClick:t[3]||(t[3]=o=>v())},{default:a(()=>[q]),_:1})])]),default:a(()=>[s(D,{"label-position":"top",ref_key:"elFormRef",ref:d,model:e.formData,rules:e.rules},{default:a(()=>[s(k,{label:"["+p.optional.name+"]参与人设置",prop:"optionalParticipants"},{default:a(()=>[p.optional.range.length===0?(n(),r(O(f),{key:0,ref:"ouSelectRef",modelValue:e.formData.optionalParticipants,"onUpdate:modelValue":t[0]||(t[0]=o=>e.formData.optionalParticipants=o),tabs:["user","role","org"],multiple:""},{default:a(()=>[w]),_:1},8,["modelValue"])):(n(),r(P,{key:1,modelValue:e.formData.optionalParticipants.user,"onUpdate:modelValue":t[1]||(t[1]=o=>e.formData.optionalParticipants.user=o),placeholder:"Select","value-key":"id",multiple:""},{default:a(()=>[(n(!0),E(U,null,N(p.optional.range,o=>(n(),r(V,{key:o.id,label:o.name,value:o},{default:a(()=>[m("span",z,j(o.name),1),m("span",A,[s(y,{plain:"",type:"success"},{default:a(()=>[L]),_:1})])]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"]))]),_:1},8,["label"])]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])}}});export{H as default};

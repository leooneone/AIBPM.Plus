import{_ as A}from"./preload-helper.101896b7.js";import{W as R}from"./WorkflowTemplate.4acedb24.js";import{d as C,a6 as $,r as j,O as M,o as W,S as r,a4 as h,p as b,e,f as i,l as d,m as p,F as k,B as I,z as g,u as w,x as S,L as J,g as t,y as u,n as y,j as f}from"./vue.df334614.js";import{_ as q}from"./_plugin-vue_export-helper.c27b6911.js";import"./http-client.1087bc02.js";import"./index.de963593.js";import"./index.390778f0.js";import"./index.4621962e.js";import"./storage.08e609be.js";import"./js.cookie.cf83ad76.js";const G=S("新建流程模板"),H={class:"home-container",style:{margin:"10px 10px 10px 10px"}},K={style:{"border-left":"3px solid #409eff","padding-left":"5px","margin-bottom":"5px","font-size":"20px"}},Q=["onClick"],U={class:"flex-auto"},X={class:"font22"},Y={class:"mt10"},Z=C({name:"bpm/application"}),ee=C({...Z,setup(te){const B=$(()=>A(()=>import("./myForm.d9e8d408.js"),["assets/myForm.d9e8d408.js","assets/preload-helper.101896b7.js","assets/data-contracts.9d84138f.js","assets/http-client.1087bc02.js","assets/index.de963593.js","assets/index.390778f0.js","assets/vue.df334614.js","assets/index.4621962e.js","assets/storage.08e609be.js","assets/js.cookie.cf83ad76.js","assets/_plugin-vue_export-helper.c27b6911.js","assets/myForm.8bf82b27.css"])),{proxy:P}=J(),{dic_bpm_group:z}=P.$dict("bpm-group"),x=j(),o=M({loading:!0,pageInput:{currentPage:1,pageSize:20},templates:[]}),O=(s,m)=>{let n={};return s.forEach(function(l){let c=JSON.stringify(m(l));n[c]=n[c]||[],n[c].push(l)}),Object.keys(n).map(function(l){return n[l]})},D=async()=>{o.loading=!0;const s=await new R().listPublished();s.success&&(o.templates=O(s.data,function(m){return[m.groupId]})),o.loading=!1},E=s=>{x.value.open({type:2,templateId:s})};return W(()=>{D()}),(s,m)=>{const n=r("el-button"),l=r("el-empty"),c=r("el-tag"),F=r("SvgIcon"),L=r("el-col"),N=r("el-row"),T=h("auth"),V=h("loading");return b((e(),i("section",null,[!o.loading&&o.templates.length===0?(e(),d(l,{key:0,description:"没有流程模板可用"},{default:p(()=>[b((e(),d(n,{class:"ele-Plus",type:"primary"},{default:p(()=>[G]),_:1})),[[T,"api:bpm:template:control"]])]),_:1})):(e(!0),i(k,{key:1},I(o.templates,v=>(e(),i("section",H,[t("div",K,u(w(z)[v[0].groupId]),1),g(N,{gutter:15,class:"home-card-one mb15"},{default:p(()=>[(e(!0),i(k,null,I(v,(a,_)=>(e(),d(L,{xs:24,sm:12,md:12,lg:6,xl:6,key:_,style:{"margin-top":"15px"},class:y({"home-media home-media-lg":_>1,"home-media-sm":_===1})},{default:p(()=>[t("div",{class:"home-card-item flex",onClick:oe=>E(a.id),style:{cursor:"pointer"}},[t("div",{class:y(["flex-margin flex w100",` home-one-animation${_}`])},[t("div",U,[t("span",X,u(a.name||"未命名流程"),1),t("span",{class:"ml5 font16",style:f({color:"var(--next-color-danger-lighter))"})},[g(c,null,{default:p(()=>[S("版本："+u(a.version),1)]),_:2},1024)],4),t("div",Y,u(a.remark),1)]),t("div",{class:"home-card-item-icon flex",style:f({background:"var(--next-color-success-lighter)"})},[a.icon.indexOf("ele")===0?(e(),d(F,{key:0,class:"flex-margin font32",name:a.icon,style:f({color:"var(--el-color-success)"})},null,8,["name","style"])):(e(),i("i",{key:1,class:y(["flex-margin font32",a.icon]),style:f({color:"var(--el-color-success)"})},null,6))],4)],2)],8,Q)]),_:2},1032,["class"]))),128))]),_:2},1024)]))),256)),g(w(B),{ref_key:"formRef",ref:x},null,512)])),[[V,o.loading]])}}});const de=q(ee,[["__scopeId","data-v-dbeeda87"]]);export{de as default};

import{k,l as T,j as R,i as $,m as l,o,c as n,p,u as d,y as b,X as E,F as D,H as G,D as _,x as f,v as h,Y as M,G as j}from"./@vue-8306d5ee.js";import{u as z,d as H,o as U}from"./vue-router-c9c3da21.js";import{d as X,u as Y,o as q,L as C,_ as A}from"./index-aa73a18b.js";import{s as S}from"./pinia-e84f6aa2.js";import"./ai-form-7f0c78d7.js";import"./element-plus-e21f9b5a.js";import"./lodash-es-f559e892.js";import"./@vueuse-245b213e.js";import"./@element-plus-8ef115d9.js";import"./@popperjs-c75af06c.js";import"./@ctrl-f8748455.js";import"./dayjs-97457aaf.js";import"./@intlify-869ec77a.js";import"./async-validator-dee29e8b.js";import"./memoize-one-297ddbcb.js";import"./escape-html-e77024c3.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui-c2863df3.js";import"./vue-i18n-86a71ef1.js";import"./vue-27cbb85a.js";import"./js-cookie-edb2da2a.js";import"./nprogress-b96aa312.js";import"./axios-21b846bc.js";import"./mitt-f7ef348c.js";import"./vue-grid-layout-9f938aef.js";import"./vue-demi-71ba0ef2.js";const J={key:0,class:"layout-navbars-breadcrumb"},K={key:0,class:"layout-navbars-breadcrumb-span"},O={key:1},P={key:2},Q=["onClick"],W=k({name:"layoutBreadcrumb"}),Z=k({...W,setup(ee){const L=X(),B=Y(),{themeConfig:s}=S(B),{routesList:x}=S(L),m=z(),g=H(),e=T({breadcrumbList:[],routeSplit:[],routeSplitFirst:"",routeSplitIndex:1}),I=R(()=>{c(m.path);const{layout:t,isBreadcrumb:r}=s.value;return t==="classic"||t==="transverse"?!1:!!r}),w=t=>{const{redirect:r,path:i}=t;r?g.push(r):g.push(i)},N=()=>{s.value.isCollapse=!s.value.isCollapse,V()},V=()=>{C.remove("themeConfig"),C.set("themeConfig",s.value)},v=t=>{t.forEach(r=>{e.routeSplit.forEach((i,y,u)=>{e.routeSplitFirst===r.path&&(e.routeSplitFirst+=`/${u[e.routeSplitIndex]}`,e.breadcrumbList.push(r),e.routeSplitIndex++,r.children&&v(r.children))})})},c=t=>{if(!s.value.isBreadcrumb)return!1;e.breadcrumbList=[],e.routeSplit=t.split("/"),e.routeSplit.shift(),e.routeSplitFirst=`/${e.routeSplit[0]}`,e.routeSplitIndex=1,v(x.value),(m.name==="home"||m.name==="notFound"&&e.breadcrumbList.length>1)&&e.breadcrumbList.shift(),e.breadcrumbList.length>0&&(e.breadcrumbList[e.breadcrumbList.length-1].meta.tagsViewName=q.setTagsViewNameI18n(m))};return $(()=>{c(m.path)}),U(t=>{c(t.path)}),(t,r)=>{const i=l("SvgIcon"),y=l("el-breadcrumb-item"),u=l("el-breadcrumb");return I.value?(o(),n("div",J,[p(i,{class:"layout-navbars-breadcrumb-icon",name:d(s).isCollapse?"ele-Expand":"ele-Fold",size:16,onClick:N},null,8,["name"]),p(u,{class:"layout-navbars-breadcrumb-hide"},{default:b(()=>[p(E,{name:"breadcrumb"},{default:b(()=>[(o(!0),n(D,null,G(e.breadcrumbList,(a,F)=>(o(),_(y,{key:a.meta.tagsViewName?a.meta.tagsViewName:a.meta.title},{default:b(()=>[F===e.breadcrumbList.length-1?(o(),n("span",K,[d(s).isBreadcrumbIcon?(o(),_(i,{key:0,name:a.meta.icon,class:"layout-navbars-breadcrumb-iconfont"},null,8,["name"])):f("",!0),a.meta.tagsViewName?(o(),n("div",P,h(a.meta.tagsViewName),1)):(o(),n("div",O,h(t.$t(a.meta.title)),1))])):(o(),n("a",{key:1,onClick:M(te=>w(a),["prevent"])},[d(s).isBreadcrumbIcon?(o(),_(i,{key:0,name:a.meta.icon,class:"layout-navbars-breadcrumb-iconfont"},null,8,["name"])):f("",!0),j(h(t.$t(a.meta.title)),1)],8,Q))]),_:2},1024))),128))]),_:1})]),_:1})])):f("",!0)}}});const we=A(Z,[["__scopeId","data-v-af331b24"]]);export{we as default};

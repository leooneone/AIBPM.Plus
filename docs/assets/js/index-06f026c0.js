import{v as w}from"./vue-i18n-86a71ef1.js";import{s as x}from"./pinia-e84f6aa2.js";import{u as U,a as y,L as l,_ as C}from"./index-aa73a18b.js";import{k as m,l as k,j as L,i as V,m as c,o as I,c as $,p as n,y as i,a as o,v as s,G as r}from"./@vue-8306d5ee.js";import"./@intlify-869ec77a.js";import"./vue-27cbb85a.js";import"./vue-demi-71ba0ef2.js";import"./ai-form-7f0c78d7.js";import"./element-plus-e21f9b5a.js";import"./lodash-es-f559e892.js";import"./@vueuse-245b213e.js";import"./@element-plus-8ef115d9.js";import"./@popperjs-c75af06c.js";import"./@ctrl-f8748455.js";import"./dayjs-97457aaf.js";import"./async-validator-dee29e8b.js";import"./memoize-one-297ddbcb.js";import"./escape-html-e77024c3.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui-c2863df3.js";import"./vue-router-c9c3da21.js";import"./js-cookie-edb2da2a.js";import"./nprogress-b96aa312.js";import"./axios-21b846bc.js";import"./mitt-f7ef348c.js";import"./vue-grid-layout-9f938aef.js";const B={class:"upgrade-dialog"},N={class:"upgrade-title"},j={class:"upgrade-title-warp"},z={class:"upgrade-title-warp-txt"},S={class:"upgrade-title-warp-version"},D={class:"upgrade-content"},E={class:"upgrade-content-desc mt5"},G={class:"upgrade-btn"},M=m({name:"layoutUpgrade"}),O=m({...M,setup(R){const{t:d}=w.useI18n(),u=U(),{themeConfig:g}=x(u),e=k({isUpgrade:!1,version:"0.9.6",isLoading:!1,btnTxt:""}),_=L(()=>g.value),f=()=>{e.isUpgrade=!1},v=()=>{e.isLoading=!0,e.btnTxt=d("message.upgrade.btnTwoLoading"),setTimeout(()=>{const t=y(),a=t.getToken();l.clear(),t.setToken(a),window.location.reload(),l.set("version",e.version)},2e3)},T=()=>{setTimeout(()=>{e.isUpgrade=!0},2e3)};return V(()=>{T(),setTimeout(()=>{e.btnTxt=d("message.upgrade.btnTwo")},200)}),(t,a)=>{const p=c("el-button"),b=c("el-dialog");return I(),$("div",B,[n(b,{modelValue:e.isUpgrade,"onUpdate:modelValue":a[0]||(a[0]=h=>e.isUpgrade=h),width:"300px","destroy-on-close":"","show-close":!1,"close-on-click-modal":!1,"close-on-press-escape":!1},{default:i(()=>[o("div",N,[o("div",j,[o("span",z,s(t.$t("message.upgrade.title")),1),o("span",S,"v"+s(e.version),1)])]),o("div",D,[r(s(_.value.globalTitle)+" "+s(t.$t("message.upgrade.msg"))+" ",1),o("div",E,s(t.$t("message.upgrade.desc")),1)]),o("div",G,[n(p,{round:"",size:"default",type:"info",text:"",onClick:f},{default:i(()=>[r(s(t.$t("message.upgrade.btnOne")),1)]),_:1}),n(p,{type:"primary",round:"",size:"default",onClick:v,loading:e.isLoading},{default:i(()=>[r(s(e.btnTxt),1)]),_:1},8,["loading"])])]),_:1},8,["modelValue"])])}}});const ge=C(O,[["__scopeId","data-v-7367bbaf"]]);export{ge as default};

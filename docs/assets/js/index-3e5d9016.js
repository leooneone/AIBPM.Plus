import{k as p,e as c,l as k,i as b,m as w,M as S,N as W,o as n,c as a,a as m,I as T,x as d,v as I,L as B,D as O,P as f,n as A}from"./@vue-8306d5ee.js";import{_ as $}from"./index-c27e5712.js";import"./pinia-e84f6aa2.js";import"./vue-demi-71ba0ef2.js";import"./ai-form-97a12f88.js";import"./element-plus-e21f9b5a.js";import"./lodash-es-f559e892.js";import"./@vueuse-245b213e.js";import"./@element-plus-8ef115d9.js";import"./@popperjs-c75af06c.js";import"./@ctrl-f8748455.js";import"./dayjs-97457aaf.js";import"./@intlify-869ec77a.js";import"./async-validator-dee29e8b.js";import"./memoize-one-297ddbcb.js";import"./escape-html-e77024c3.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui-c2863df3.js";import"./vue-router-c9c3da21.js";import"./vue-i18n-86a71ef1.js";import"./vue-27cbb85a.js";import"./js-cookie-edb2da2a.js";import"./nprogress-b96aa312.js";import"./axios-21b846bc.js";import"./mitt-f7ef348c.js";import"./vue-grid-layout-9f938aef.js";const N={key:1,class:"notice-bar-warp-slot"},R=p({name:"noticeBar"}),_=p({...R,props:{mode:{type:String,default:()=>""},text:{type:String,default:()=>""},color:{type:String,default:()=>"var(--el-color-warning)"},background:{type:String,default:()=>"var(--el-color-warning-light-9)"},size:{type:[Number,String],default:()=>14},height:{type:Number,default:()=>40},delay:{type:Number,default:()=>1},speed:{type:Number,default:()=>100},scrollable:{type:Boolean,default:()=>!1},leftIcon:{type:String,default:()=>""},rightIcon:{type:String,default:()=>""}},emits:["close","link"],setup(t,{emit:r}){const i=t,s=c(),o=c(),e=k({order:1,oneTime:0,twoTime:0,warpOWidth:0,textOWidth:0,isMode:!1}),u=()=>{A(()=>{e.warpOWidth=s.value.offsetWidth,e.textOWidth=o.value.offsetWidth,document.styleSheets[0].insertRule(`@keyframes oneAnimation {0% {left: 0px;} 100% {left: -${e.textOWidth}px;}}`),document.styleSheets[0].insertRule(`@keyframes twoAnimation {0% {left: ${e.warpOWidth}px;} 100% {left: -${e.textOWidth}px;}}`),y(),setTimeout(()=>{l()},i.delay*1e3)})},y=()=>{e.oneTime=e.textOWidth/i.speed,e.twoTime=(e.textOWidth+e.warpOWidth)/i.speed},l=()=>{e.order===1?(o.value.style.cssText=`animation: oneAnimation ${e.oneTime}s linear; opactity: 1;}`,e.order=2):o.value.style.cssText=`animation: twoAnimation ${e.twoTime}s linear infinite; opacity: 1;`},h=()=>{o.value.addEventListener("animationend",()=>{l()},!1)},x=()=>{if(!i.mode)return!1;i.mode==="closeable"?(e.isMode=!0,r("close")):i.mode==="link"&&r("link")};return b(()=>{if(i.scrollable)return!1;u(),h()}),(g,C)=>{const v=w("SvgIcon");return S((n(),a("div",{class:"notice-bar",style:f({background:t.background,height:`${t.height}px`})},[m("div",{class:"notice-bar-warp",style:f({color:t.color,fontSize:`${t.size}px`})},[t.leftIcon?(n(),a("i",{key:0,class:T(["notice-bar-warp-left-icon",t.leftIcon])},null,2)):d("",!0),m("div",{class:"notice-bar-warp-text-box",ref_key:"noticeBarWarpRef",ref:s},[t.scrollable?(n(),a("div",N,[B(g.$slots,"default",{},void 0,!0)])):(n(),a("div",{key:0,class:"notice-bar-warp-text",ref_key:"noticeBarTextRef",ref:o},I(t.text),513))],512),t.rightIcon?(n(),O(v,{key:1,name:t.rightIcon,class:"notice-bar-warp-right-icon",onClick:x},null,8,["name"])):d("",!0)],4)],4)),[[W,!e.isMode]])}}});const se=$(_,[["__scopeId","data-v-6fc197a9"]]);export{se as default};

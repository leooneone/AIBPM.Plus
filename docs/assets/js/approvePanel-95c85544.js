import{k,B as x,e as y,l as C,m as a,o as w,D as B,y as l,a as N,p as s,G as f,x as R}from"./@vue-8306d5ee.js";const S={class:"dialog-footer"},j=k({__name:"approvePanel",props:{approveSetting:Object},setup(d,{expose:c}){const m=d,_=x("submitForm"),p=y(),e=C({form:{approvalResult:"",comment:""},rules:{},visible:!1}),i=r=>{var o;(o=p.value)==null||o.validate(n=>{if(n)e.form.approvalResult=r,_(e.form),e.visible=!1;else return this.$message.error("验证失败"),!1})};return c({open:()=>{var r;e.form={approvalResult:null,comment:""},(r=m.approveSetting)!=null&&r.remarkRequired&&(e.rules={comment:[{required:!0,message:"请输入审批意见",trigger:["blur","change"]}]}),e.visible=!0}}),(r,o)=>{const n=a("el-input"),v=a("el-form-item"),b=a("el-form"),u=a("el-button"),g=a("el-dialog");return e.visible?(w(),B(g,{key:0,modelValue:e.visible,"onUpdate:modelValue":o[3]||(o[3]=t=>e.visible=t),title:"审批意见",width:"50%"},{footer:l(()=>[N("span",S,[s(u,{onClick:o[1]||(o[1]=t=>i(!1))},{default:l(()=>[f("不同意")]),_:1}),s(u,{type:"primary",onClick:o[2]||(o[2]=t=>i(!0))},{default:l(()=>[f(" 同意 ")]),_:1})])]),default:l(()=>[s(b,{ref_key:"formEl",ref:p,model:e.form,rules:e.rules,"label-position":"top"},{default:l(()=>[s(v,{prop:"comment",label:"审批意见"},{default:l(()=>{var t;return[s(n,{rows:10,type:"textarea",modelValue:e.form.comment,"onUpdate:modelValue":o[0]||(o[0]=V=>e.form.comment=V),maxlength:"300",placeholder:(t=m.approveSetting)==null?void 0:t.remarkTip,"show-word-limit":""},null,8,["modelValue","placeholder"])]}),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])):R("",!0)}}});export{j as default};

import{_ as L}from"./ai-form-7f0c78d7.js";import{k as A,R as g,e as D,l as I,j as S,E as N,f as m,m as w,M as P,N as H,u as p,o as F,c as O,p as f,y as R,D as j,x as q,I as z}from"./@vue-8306d5ee.js";import{s as v}from"./pinia-e84f6aa2.js";import{d as $,u as G,b as J,e as n}from"./index-aa73a18b.js";import"./element-plus-e21f9b5a.js";import"./lodash-es-f559e892.js";import"./@vueuse-245b213e.js";import"./@element-plus-8ef115d9.js";import"./@popperjs-c75af06c.js";import"./@ctrl-f8748455.js";import"./dayjs-97457aaf.js";import"./@intlify-869ec77a.js";import"./async-validator-dee29e8b.js";import"./memoize-one-297ddbcb.js";import"./escape-html-e77024c3.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui-c2863df3.js";import"./vue-demi-71ba0ef2.js";import"./vue-router-c9c3da21.js";import"./vue-i18n-86a71ef1.js";import"./vue-27cbb85a.js";import"./js-cookie-edb2da2a.js";import"./nprogress-b96aa312.js";import"./axios-21b846bc.js";import"./mitt-f7ef348c.js";import"./vue-grid-layout-9f938aef.js";const K={class:"h100"},Q=A({name:"layoutAside"}),Se=A({...Q,setup(U){const M=g(()=>L(()=>import("./index-5706ce50.js"),["assets/js/index-5706ce50.js","assets/js/pinia-e84f6aa2.js","assets/js/vue-demi-71ba0ef2.js","assets/js/@vue-8306d5ee.js","assets/js/index-aa73a18b.js","assets/js/ai-form-7f0c78d7.js","assets/js/element-plus-e21f9b5a.js","assets/js/lodash-es-f559e892.js","assets/js/@vueuse-245b213e.js","assets/js/@element-plus-8ef115d9.js","assets/js/@popperjs-c75af06c.js","assets/js/@ctrl-f8748455.js","assets/js/dayjs-97457aaf.js","assets/js/@intlify-869ec77a.js","assets/js/async-validator-dee29e8b.js","assets/js/memoize-one-297ddbcb.js","assets/js/escape-html-e77024c3.js","assets/js/normalize-wheel-es-ed76fb12.js","assets/js/@floating-ui-c2863df3.js","assets/css/ai-form-078e22e0.css","assets/js/vue-router-c9c3da21.js","assets/js/vue-i18n-86a71ef1.js","assets/js/vue-27cbb85a.js","assets/js/js-cookie-edb2da2a.js","assets/js/nprogress-b96aa312.js","assets/css/nprogress-8b89e2e0.css","assets/js/axios-21b846bc.js","assets/js/mitt-f7ef348c.js","assets/js/vue-grid-layout-9f938aef.js","assets/css/index-6baff94b.css","assets/js/logo-mini-7320876a.js","assets/css/index-97242d2c.css"])),T=g(()=>L(()=>import("./vertical-d6ef0aaf.js"),["assets/js/vertical-d6ef0aaf.js","assets/js/ai-form-7f0c78d7.js","assets/js/@vue-8306d5ee.js","assets/js/element-plus-e21f9b5a.js","assets/js/lodash-es-f559e892.js","assets/js/@vueuse-245b213e.js","assets/js/@element-plus-8ef115d9.js","assets/js/@popperjs-c75af06c.js","assets/js/@ctrl-f8748455.js","assets/js/dayjs-97457aaf.js","assets/js/@intlify-869ec77a.js","assets/js/async-validator-dee29e8b.js","assets/js/memoize-one-297ddbcb.js","assets/js/escape-html-e77024c3.js","assets/js/normalize-wheel-es-ed76fb12.js","assets/js/@floating-ui-c2863df3.js","assets/css/ai-form-078e22e0.css","assets/js/vue-router-c9c3da21.js","assets/js/pinia-e84f6aa2.js","assets/js/vue-demi-71ba0ef2.js","assets/js/index-aa73a18b.js","assets/js/vue-i18n-86a71ef1.js","assets/js/vue-27cbb85a.js","assets/js/js-cookie-edb2da2a.js","assets/js/nprogress-b96aa312.js","assets/css/nprogress-8b89e2e0.css","assets/js/axios-21b846bc.js","assets/js/mitt-f7ef348c.js","assets/js/vue-grid-layout-9f938aef.js","assets/css/index-6baff94b.css"])),a=D(),h=$(),E=G(),B=J(),{routesList:y}=v(h),{themeConfig:o}=v(E),{isTagsViewCurrenFull:V}=v(B),l=I({menuList:[],clientWidth:0}),W=S(()=>{const{layout:e,isCollapse:t,menuBar:s}=o.value,i=!t&&["#FFFFFF","#FFF","#fff","#ffffff"].includes(s)?"layout-el-aside-br-color":"";if(l.clientWidth<=1e3)if(t){document.body.setAttribute("class","el-popup-parent--hidden");const x=document.querySelector(".layout-container"),d=document.createElement("div");return d.setAttribute("class","layout-aside-mobile-mode"),x.appendChild(d),d.addEventListener("click",u),[i,"layout-aside-mobile","layout-aside-mobile-open"]}else return u(),[i,"layout-aside-mobile","layout-aside-mobile-close"];else return e==="columns"||e==="classic"?t?[i,"layout-aside-pc-1"]:[i,"layout-aside-pc-220"]:t?[i,"layout-aside-pc-64"]:[i,"layout-aside-pc-220"]}),k=S(()=>{let{layout:e,isShowLogo:t}=o.value;return t&&e==="defaults"||t&&e==="columns"}),u=()=>{const e=document.querySelector(".layout-aside-mobile-mode");e==null||e.setAttribute("style","animation: error-img-two 0.3s"),setTimeout(()=>{var s;(s=e==null?void 0:e.parentNode)==null||s.removeChild(e)},300),document.body.clientWidth<1e3&&(o.value.isCollapse=!1),document.body.setAttribute("class","")},c=()=>{if(o.value.layout==="columns")return!1;l.menuList=_(y.value)},_=e=>e.filter(t=>{var s;return!((s=t.meta)!=null&&s.isHide)}).map(t=>(t=Object.assign({},t),t.children&&(t.children=_(t.children)),t)),C=e=>{l.clientWidth=e},b=e=>{let{layout:t}=o.value;if(t!=="columns")return!1;e||n.emit("restoreDefault"),o.value.isColumnsMenuHoverPreload&&h.setColumnsMenuHover(e)};return N(()=>{C(document.body.clientWidth),c(),n.on("setSendColumnsChildren",e=>{l.menuList=e.children}),n.on("setSendClassicChildren",e=>{let{layout:t,isClassicSplitMenu:s}=o.value;t==="classic"&&s&&(!e.children||e.children.length<1?o.value.isCollapse=!0:o.value.isCollapse=!1,l.menuList=[],l.menuList=e.children)}),n.on("getBreadcrumbIndexSetFilterRoutes",()=>{c()}),n.on("layoutMobileResize",e=>{C(e.clientWidth),u()})}),m(o.value,e=>{e.isShowLogoChange!==e.isShowLogo&&a.value&&a.value.update()}),m(()=>[o.value.isShowLogoChange,o.value.isShowLogo,o.value.layout,o.value.isClassicSplitMenu],([e,t,s,r])=>{if(e!==t&&a.value&&a.value.update(),s==="classic"&&r)return!1}),m(()=>y.value,()=>{c()}),(e,t)=>{const s=w("el-scrollbar"),r=w("el-aside");return P((F(),O("div",K,[f(r,{class:z(["layout-aside",W.value])},{default:R(()=>[k.value?(F(),j(p(M),{key:0})):q("",!0),f(s,{class:"flex-auto",ref_key:"layoutAsideScrollbarRef",ref:a,onMouseenter:t[0]||(t[0]=i=>b(!0)),onMouseleave:t[1]||(t[1]=i=>b(!1))},{default:R(()=>[f(p(T),{menuList:l.menuList},null,8,["menuList"])]),_:1},512)]),_:1},8,["class"])],512)),[[H,!p(V)]])}}});export{Se as default};

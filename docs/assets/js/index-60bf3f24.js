import{_ as W}from"./ai-form-97a12f88.js";import{i as h}from"./getStyleSheets-a93480e6.js";import{k as L,R as F,e as E,l as N,j as R,i as G,f as $,m as s,o as x,c as S,p as a,y as r,D as M,I as U,a as _,v as j,u as v,n as q}from"./@vue-8306d5ee.js";import"./element-plus-e21f9b5a.js";import"./lodash-es-f559e892.js";import"./@vueuse-245b213e.js";import"./@element-plus-8ef115d9.js";import"./@popperjs-c75af06c.js";import"./@ctrl-f8748455.js";import"./dayjs-97457aaf.js";import"./@intlify-869ec77a.js";import"./async-validator-dee29e8b.js";import"./memoize-one-297ddbcb.js";import"./escape-html-e77024c3.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui-c2863df3.js";const H={class:"icon-selector w100 h100"},J={class:"icon-selector-warp"},K={class:"icon-selector-warp-title"},Q=L({name:"iconSelector"}),ue=L({...Q,props:{prepend:{type:String,default:()=>"ele-Pointer"},placeholder:{type:String,default:()=>"请输入内容搜索图标或者选择图标"},size:{type:String,default:()=>"default"},title:{type:String,default:()=>"请选择图标"},disabled:{type:Boolean,default:()=>!1},clearable:{type:Boolean,default:()=>!0},emptyDescription:{type:String,default:()=>"无相关图标"},modelValue:String},emits:["update:modelValue","get","clear"],setup(n,{emit:d}){const l=n,p=F(()=>W(()=>import("./list-bda32839.js"),["assets/js/list-bda32839.js","assets/js/@vue-8306d5ee.js","assets/js/index-c27e5712.js","assets/js/pinia-e84f6aa2.js","assets/js/vue-demi-71ba0ef2.js","assets/js/ai-form-97a12f88.js","assets/js/element-plus-e21f9b5a.js","assets/js/lodash-es-f559e892.js","assets/js/@vueuse-245b213e.js","assets/js/@element-plus-8ef115d9.js","assets/js/@popperjs-c75af06c.js","assets/js/@ctrl-f8748455.js","assets/js/dayjs-97457aaf.js","assets/js/@intlify-869ec77a.js","assets/js/async-validator-dee29e8b.js","assets/js/memoize-one-297ddbcb.js","assets/js/escape-html-e77024c3.js","assets/js/normalize-wheel-es-ed76fb12.js","assets/js/@floating-ui-c2863df3.js","assets/css/ai-form-078e22e0.css","assets/js/vue-router-c9c3da21.js","assets/js/vue-i18n-86a71ef1.js","assets/js/vue-27cbb85a.js","assets/js/js-cookie-edb2da2a.js","assets/js/nprogress-b96aa312.js","assets/css/nprogress-8b89e2e0.css","assets/js/axios-21b846bc.js","assets/js/mitt-f7ef348c.js","assets/js/vue-grid-layout-9f938aef.js","assets/css/index-6baff94b.css","assets/css/list-67ded250.css"])),f=E(),e=N({fontIconPrefix:"",fontIconWidth:0,fontIconSearch:"",fontIconPlaceholder:"",fontIconTabActive:"ali",fontIconList:{ali:[],ele:[],awe:[]}}),C=()=>{if(!l.modelValue)return!1;e.fontIconSearch="",e.fontIconPlaceholder=l.modelValue},k=()=>{const t=y();setTimeout(()=>{t.filter(i=>i===e.fontIconSearch).length<=0&&(e.fontIconSearch="")},300)},u=R(()=>{const t=y();if(!e.fontIconSearch)return t;let o=e.fontIconSearch.trim().toLowerCase();return t.filter(i=>{if(i.toLowerCase().indexOf(o)!==-1)return i})}),y=()=>{let t=[];return e.fontIconTabActive==="ali"?t=e.fontIconList.ali:e.fontIconTabActive==="ele"?t=e.fontIconList.ele:e.fontIconTabActive==="awe"&&(t=e.fontIconList.awe),t},P=()=>{if(l.modelValue==="")return e.fontIconPlaceholder=l.placeholder;e.fontIconPlaceholder=l.modelValue,e.fontIconPrefix=l.modelValue},b=()=>{let t="ali";return l.modelValue.indexOf("iconfont")>-1?t="ali":l.modelValue.indexOf("ele-")>-1?t="ele":l.modelValue.indexOf("fa")>-1&&(t="awe"),e.fontIconTabActive=t,t},w=async t=>{if(t==="ali"){if(e.fontIconList.ali.length>0)return;await h.ali().then(o=>{e.fontIconList.ali=o.map(i=>`iconfont ${i}`)})}else if(t==="ele"){if(e.fontIconList.ele.length>0)return;await h.ele().then(o=>{e.fontIconList.ele=o})}else if(t==="awe"){if(e.fontIconList.awe.length>0)return;await h.awe().then(o=>{e.fontIconList.awe=o.map(i=>`fa ${i}`)})}e.fontIconPlaceholder=l.placeholder,P()},T=t=>{w(t.paneName),f.value.focus()},m=t=>{e.fontIconPlaceholder=t,e.fontIconPrefix=t,d("get",e.fontIconPrefix),d("update:modelValue",e.fontIconPrefix),f.value.focus()},z=()=>{e.fontIconPrefix="",d("clear",e.fontIconPrefix),d("update:modelValue",e.fontIconPrefix)},V=()=>{q(()=>{e.fontIconWidth=f.value.$el.offsetWidth})},A=()=>{window.addEventListener("resize",()=>{V()})};return G(()=>{w(b()),A(),V()}),$(()=>l.modelValue,()=>{P(),b()}),(t,o)=>{const i=s("SvgIcon"),B=s("el-input"),I=s("el-tab-pane"),D=s("el-tabs"),O=s("el-popover");return x(),S("div",H,[a(B,{modelValue:e.fontIconSearch,"onUpdate:modelValue":o[0]||(o[0]=c=>e.fontIconSearch=c),placeholder:e.fontIconPlaceholder,clearable:n.clearable,disabled:n.disabled,size:n.size,ref_key:"inputWidthRef",ref:f,onClear:z,onFocus:C,onBlur:k},{prepend:r(()=>{var c,g;return[(e.fontIconPrefix===""?((c=n.prepend)==null?void 0:c.indexOf("ele-"))>-1:((g=e.fontIconPrefix)==null?void 0:g.indexOf("ele-"))>-1)?(x(),M(i,{key:0,name:e.fontIconPrefix===""?n.prepend:e.fontIconPrefix,class:"font14"},null,8,["name"])):(x(),S("i",{key:1,class:U([e.fontIconPrefix===""?n.prepend:e.fontIconPrefix,"font14"])},null,2))]}),_:1},8,["modelValue","placeholder","clearable","disabled","size"]),a(O,{placement:"bottom",width:e.fontIconWidth,transition:"el-zoom-in-top","popper-class":"icon-selector-popper",trigger:"click","virtual-ref":f.value,"virtual-triggering":""},{default:r(()=>[_("div",J,[_("div",K,j(n.title),1),a(D,{modelValue:e.fontIconTabActive,"onUpdate:modelValue":o[1]||(o[1]=c=>e.fontIconTabActive=c),onTabClick:T},{default:r(()=>[a(I,{lazy:"",label:"ali",name:"ali"},{default:r(()=>[a(v(p),{list:u.value,empty:n.emptyDescription,prefix:e.fontIconPrefix,onGetIcon:m},null,8,["list","empty","prefix"])]),_:1}),a(I,{lazy:"",label:"ele",name:"ele"},{default:r(()=>[a(v(p),{list:u.value,empty:n.emptyDescription,prefix:e.fontIconPrefix,onGetIcon:m},null,8,["list","empty","prefix"])]),_:1}),a(I,{lazy:"",label:"awe",name:"awe"},{default:r(()=>[a(v(p),{list:u.value,empty:n.emptyDescription,prefix:e.fontIconPrefix,onGetIcon:m},null,8,["list","empty","prefix"])]),_:1})]),_:1},8,["modelValue"])])]),_:1},8,["width","virtual-ref"])])}}});export{ue as default};

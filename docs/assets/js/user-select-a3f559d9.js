import{_ as G}from"./ai-form-3baf0d65.js";import{k,e as C,l as Q,m as n,$ as Y,o as f,D as _,y as l,a as u,p as o,G as h,u as I,Y as $,am as j,M as q,x as H,R as J}from"./@vue-8306d5ee.js";import{V as W,_ as X}from"./index-0ce5277f.js";import{h as Z}from"./element-plus-e21f9b5a.js";import"./pinia-e84f6aa2.js";import"./vue-demi-71ba0ef2.js";import"./vue-router-c9c3da21.js";import"./vue-i18n-86a71ef1.js";import"./@intlify-869ec77a.js";import"./vue-27cbb85a.js";import"./js-cookie-edb2da2a.js";import"./@element-plus-8ef115d9.js";import"./nprogress-b96aa312.js";import"./axios-21b846bc.js";import"./lodash-es-f559e892.js";import"./mitt-f7ef348c.js";import"./vue-grid-layout-9f938aef.js";import"./@vueuse-245b213e.js";import"./@popperjs-c75af06c.js";import"./@ctrl-f8748455.js";import"./dayjs-97457aaf.js";import"./async-validator-dee29e8b.js";import"./memoize-one-297ddbcb.js";import"./escape-html-e77024c3.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui-c2863df3.js";const ee={style:{padding:"0px 0px 8px 8px","background-color":"var(--ba-bg-color)"}},te={class:"my-flex-column h100"},oe={class:"my-flex my-flex-end",style:{"margin-top":"20px"}},le={class:"dialog-footer"},ae=k({name:"admin/user/components/user-select"}),ne=k({...ae,props:{title:{type:String,default:""},multiple:{type:Boolean,default:!1},sureLoading:{type:Boolean,default:!1}},emits:["sure"],setup(s,{expose:D,emit:w}){const d=s,S=J(()=>G(()=>import("./org-menu-131aea08.js"),["assets/js/org-menu-131aea08.js","assets/js/index-0ce5277f.js","assets/js/@vue-8306d5ee.js","assets/js/pinia-e84f6aa2.js","assets/js/vue-demi-71ba0ef2.js","assets/js/ai-form-3baf0d65.js","assets/js/element-plus-e21f9b5a.js","assets/js/lodash-es-f559e892.js","assets/js/@vueuse-245b213e.js","assets/js/@element-plus-8ef115d9.js","assets/js/@popperjs-c75af06c.js","assets/js/@ctrl-f8748455.js","assets/js/dayjs-97457aaf.js","assets/js/@intlify-869ec77a.js","assets/js/async-validator-dee29e8b.js","assets/js/memoize-one-297ddbcb.js","assets/js/escape-html-e77024c3.js","assets/js/normalize-wheel-es-ed76fb12.js","assets/js/@floating-ui-c2863df3.js","assets/css/ai-form-078e22e0.css","assets/js/vue-router-c9c3da21.js","assets/js/vue-i18n-86a71ef1.js","assets/js/vue-27cbb85a.js","assets/js/js-cookie-edb2da2a.js","assets/js/nprogress-b96aa312.js","assets/css/nprogress-8b89e2e0.css","assets/js/axios-21b846bc.js","assets/js/mitt-f7ef348c.js","assets/js/vue-grid-layout-9f938aef.js","assets/css/index-6baff94b.css"])),c=C(),e=Q({showDialog:!1,loading:!1,filter:{name:""},total:0,pageInput:{currentPage:1,pageSize:20,filter:{orgId:null}},userListData:[]}),z=()=>{e.showDialog=!0,e.pageInput.filter&&(e.pageInput.filter.orgId=null),r()},V=()=>{e.showDialog=!1},r=async()=>{var a,p;e.loading=!0,e.pageInput.dynamicFilter={field:"name",operator:0,value:e.filter.name};const t=await new W().getPage(e.pageInput).catch(()=>{e.loading=!1});e.userListData=((a=t==null?void 0:t.data)==null?void 0:a.list)??[],e.total=((p=t==null?void 0:t.data)==null?void 0:p.total)??0,e.loading=!1},R=t=>{e.pageInput.pageSize=t,r()},P=t=>{e.pageInput.currentPage=t,r()},B=t=>{e.pageInput.filter&&(e.pageInput.filter.orgId=t==null?void 0:t.id),r()},L=t=>{c.value.toggleRowSelection(t,d.multiple?void 0:!0)},N=()=>{d.multiple||v()},y=C(),T=t=>{y.value=t},U=()=>{e.showDialog=!1},v=()=>{if(d.multiple){const t=c.value.getSelectionRows();w("sure",t)}else w("sure",y.value)};return D({open:z,close:V}),(t,a)=>{const p=n("el-col"),A=n("el-input"),x=n("el-form-item"),m=n("el-button"),E=n("el-form"),b=n("el-card"),g=n("el-table-column"),K=n("el-pagination"),M=n("el-row"),O=n("el-dialog"),F=Y("loading");return f(),_(O,{modelValue:e.showDialog,"onUpdate:modelValue":a[4]||(a[4]=i=>e.showDialog=i),"destroy-on-close":"",title:s.title,"append-to-body":"",draggable:"","close-on-click-modal":!1,"close-on-press-escape":!1,width:"780px"},{footer:l(()=>[u("span",le,[o(m,{onClick:U,size:"default"},{default:l(()=>[h("取 消")]),_:1}),o(m,{type:"primary",onClick:v,size:"default",loading:s.sureLoading},{default:l(()=>[h("确 定")]),_:1},8,["loading"])])]),default:l(()=>[u("div",ee,[o(M,{gutter:8,style:{width:"100%"}},{default:l(()=>[o(p,{xs:24,sm:9},{default:l(()=>[u("div",te,[o(I(S),{onNodeClick:B,class:"my-flex-fill"})])]),_:1}),o(p,{xs:24,sm:15},{default:l(()=>[o(b,{shadow:"never","body-style":{paddingBottom:"0"},style:{"margin-top":"8px"}},{default:l(()=>[o(E,{model:e.filter,inline:!0,onSubmit:a[1]||(a[1]=$(()=>{},["stop","prevent"]))},{default:l(()=>[o(x,{label:"姓名",prop:"name"},{default:l(()=>[o(A,{modelValue:e.filter.name,"onUpdate:modelValue":a[0]||(a[0]=i=>e.filter.name=i),placeholder:"姓名",onKeyup:j(r,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),o(x,null,{default:l(()=>[o(m,{type:"primary",icon:"ele-Search",onClick:r},{default:l(()=>[h(" 查询 ")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),o(b,{shadow:"never",style:{"margin-top":"8px"}},{default:l(()=>[q((f(),_(I(Z),{ref_key:"userTableRef",ref:c,data:e.userListData,style:{width:"100%"},"row-key":"id","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"},"highlight-current-row":!s.multiple,onRowClick:L,onRowDblclick:N,onCurrentChange:T},{default:l(()=>[s.multiple?(f(),_(g,{key:0,type:"selection",width:"55"})):H("",!0),o(g,{prop:"name",label:"姓名","min-width":"80","show-overflow-tooltip":""}),o(g,{prop:"mobile",label:"手机号","min-width":"120","show-overflow-tooltip":""})]),_:1},8,["data","highlight-current-row"])),[[F,e.loading]]),u("div",oe,[o(K,{currentPage:e.pageInput.currentPage,"onUpdate:currentPage":a[2]||(a[2]=i=>e.pageInput.currentPage=i),"page-size":e.pageInput.pageSize,"onUpdate:pageSize":a[3]||(a[3]=i=>e.pageInput.pageSize=i),total:e.total,"page-sizes":[10,20,50,100],small:"",background:"",onSizeChange:R,onCurrentChange:P,layout:"total, sizes, prev, pager, next"},null,8,["currentPage","page-size","total"])])]),_:1})]),_:1})]),_:1})])]),_:1},8,["modelValue","title"])}}});const Be=X(ne,[["__scopeId","data-v-d8fef152"]]);export{Be as default};

import{_ as R}from"./ai-form-3baf0d65.js";import{k as b,h as C,e as U,l as F,f as O,m,o as n,c as _,p as a,y as r,F as q,H as A,D as p,u as g,G as B,x as N,R as j}from"./@vue-8306d5ee.js";import{_ as E}from"./index-0ce5277f.js";import"./element-plus-e21f9b5a.js";import"./lodash-es-f559e892.js";import"./@vueuse-245b213e.js";import"./@element-plus-8ef115d9.js";import"./@popperjs-c75af06c.js";import"./@ctrl-f8748455.js";import"./dayjs-97457aaf.js";import"./@intlify-869ec77a.js";import"./async-validator-dee29e8b.js";import"./memoize-one-297ddbcb.js";import"./escape-html-e77024c3.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui-c2863df3.js";import"./pinia-e84f6aa2.js";import"./vue-demi-71ba0ef2.js";import"./vue-router-c9c3da21.js";import"./vue-i18n-86a71ef1.js";import"./vue-27cbb85a.js";import"./js-cookie-edb2da2a.js";import"./nprogress-b96aa312.js";import"./axios-21b846bc.js";import"./mitt-f7ef348c.js";import"./vue-grid-layout-9f938aef.js";const P={class:"setting-container"},z=b({name:"basice-setting"}),L=b({...z,props:{tabName:String,initiators:{},conf:{type:Object}},setup(V,{expose:D}){const u=V,y=j(()=>R(()=>import("./index-cb962fe4.js"),["assets/js/index-cb962fe4.js","assets/js/icon-select-ea8a0d6c.js","assets/js/getStyleSheets-a93480e6.js","assets/js/@element-plus-8ef115d9.js","assets/js/@vue-8306d5ee.js","assets/js/index-0ce5277f.js","assets/js/pinia-e84f6aa2.js","assets/js/vue-demi-71ba0ef2.js","assets/js/ai-form-3baf0d65.js","assets/js/element-plus-e21f9b5a.js","assets/js/lodash-es-f559e892.js","assets/js/@vueuse-245b213e.js","assets/js/@popperjs-c75af06c.js","assets/js/@ctrl-f8748455.js","assets/js/dayjs-97457aaf.js","assets/js/@intlify-869ec77a.js","assets/js/async-validator-dee29e8b.js","assets/js/memoize-one-297ddbcb.js","assets/js/escape-html-e77024c3.js","assets/js/normalize-wheel-es-ed76fb12.js","assets/js/@floating-ui-c2863df3.js","assets/css/ai-form-078e22e0.css","assets/js/vue-router-c9c3da21.js","assets/js/vue-i18n-86a71ef1.js","assets/js/vue-27cbb85a.js","assets/js/js-cookie-edb2da2a.js","assets/js/nprogress-b96aa312.js","assets/css/nprogress-8b89e2e0.css","assets/js/axios-21b846bc.js","assets/js/mitt-f7ef348c.js","assets/js/vue-grid-layout-9f938aef.js","assets/css/index-6baff94b.css","assets/css/icon-select-99b9b4f6.css"])),{proxy:v}=C(),{bpm_group:x}=v.$dict("bpm-group"),k={name:"",icon:"",groupId:void 0,remark:"",range:0,initiators:{}},c=U(),e=F({dialogVisible:!1,formData:Object.assign({},k,u.conf),rules:{name:[{required:!0,message:"请输入审批名称",trigger:"blur"}],range:[{required:!0,message:"请选择谁可以发起审批",trigger:"change"}],icon:[{required:!0,message:"请选择图标",trigger:"change"}],groupId:[{required:!0,message:"请选择选择分组",trigger:"change"}]}}),w=async()=>new Promise((l,o)=>{c.value.validate(s=>{s?l(e.formData):o({msg:"",target:"basicSetting"})})});return O(()=>u.conf,l=>{typeof l=="object"&&l!==null&&(e.formData=l,e.formData.icon=l.icon)}),D({getSetting:w}),(l,o)=>{const s=m("el-input"),i=m("el-form-item"),d=m("el-option"),f=m("el-select"),I=m("AiOuSelect"),S=m("el-form");return n(),_("div",P,[a(S,{ref_key:"elFormRef",ref:c,model:e.formData,rules:e.rules,size:"medium","label-width":"100px","label-position":"top"},{default:r(()=>[a(i,{label:"流程名称",prop:"name"},{default:r(()=>[a(s,{modelValue:e.formData.name,"onUpdate:modelValue":o[0]||(o[0]=t=>e.formData.name=t),placeholder:"请输入流程名称",clearable:"",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(i,{label:"选择分组",prop:"groupId"},{default:r(()=>[a(f,{modelValue:e.formData.groupId,"onUpdate:modelValue":o[1]||(o[1]=t=>e.formData.groupId=t),placeholder:"请选择选择分组",clearable:"",style:{width:"100%"}},{default:r(()=>[(n(!0),_(q,null,A(g(x),(t,h)=>(n(),p(d,{key:h,label:t.label,value:t.value,disabled:t.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(i,{label:"谁可以发起审批",prop:"range"},{default:r(()=>[a(f,{modelValue:e.formData.range,"onUpdate:modelValue":o[2]||(o[2]=t=>e.formData.range=t),style:{width:"100%"},placeholder:"请选择范围"},{default:r(()=>[(n(),p(d,{key:0,label:"所有人",value:0})),(n(),p(d,{key:1,label:"指定范围",value:1}))]),_:1},8,["modelValue"]),e.formData.range===1?(n(),p(I,{key:0,ref:"ouSelectRef",modelValue:e.formData.initiators,"onUpdate:modelValue":o[3]||(o[3]=t=>e.formData.initiators=t),tabs:["user","role","org"],multiple:""},{default:r(()=>[B(" 默认所有人")]),_:1},8,["modelValue"])):N("",!0)]),_:1}),a(i,{label:"模板图标",prop:"icon"},{default:r(()=>[a(g(y),{modelValue:e.formData.icon,"onUpdate:modelValue":o[4]||(o[4]=t=>e.formData.icon=t),clearable:""},null,8,["modelValue"])]),_:1}),a(i,{label:"审批说明",prop:"remark"},{default:r(()=>[a(s,{modelValue:e.formData.remark,"onUpdate:modelValue":o[5]||(o[5]=t=>e.formData.remark=t),type:"textarea",placeholder:"请输入审批说明",maxlength:100,"show-word-limit":"",autosize:{minRows:4,maxRows:4},style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])])}}});const fe=E(L,[["__scopeId","data-v-d3148c2f"]]);export{fe as default};

import{k as v,l as k,f as w,m as p,o as n,D as f,a0 as C,y as _,p as B,c as K,F as S,H as j,q as D,am as F}from"./@vue-8306d5ee.js";import{j as m}from"./lodash-es-f559e892.js";import{_ as N}from"./index-1c0db287.js";import"./pinia-e84f6aa2.js";import"./vue-demi-71ba0ef2.js";import"./ai-form-3baf0d65.js";import"./element-plus-e21f9b5a.js";import"./@vueuse-245b213e.js";import"./@element-plus-8ef115d9.js";import"./@popperjs-c75af06c.js";import"./@ctrl-f8748455.js";import"./dayjs-97457aaf.js";import"./@intlify-869ec77a.js";import"./async-validator-dee29e8b.js";import"./memoize-one-297ddbcb.js";import"./escape-html-e77024c3.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui-c2863df3.js";import"./vue-router-c9c3da21.js";import"./vue-i18n-86a71ef1.js";import"./vue-27cbb85a.js";import"./js-cookie-edb2da2a.js";import"./nprogress-b96aa312.js";import"./axios-21b846bc.js";import"./mitt-f7ef348c.js";import"./vue-grid-layout-9f938aef.js";const U=v({name:"my-select-input"}),q=v({...U,props:{modelValue:Object,filters:{type:Array,default(){return[]}}},emits:["update:modelValue","search"],setup(y,{emit:s}){var u,d,c;const l=y,r=l.filters.filter(o=>o.componentName==="el-input");let a={};r.length>0&&(a=m(r.find(o=>o.defaultSelect)||r[0]));const e=k({filters:r,filter:{field:((u=l.modelValue)==null?void 0:u.field)||a.field,operator:((d=l.modelValue)==null?void 0:d.operator)||a.operator,value:((c=l.modelValue)==null?void 0:c.value)||a.value}}),V=()=>{e.filter.value=""},h=()=>{s("search",m(e.filter))};return w(()=>e.filter,()=>{s("update:modelValue",m(e.filter))},{deep:!0}),(o,i)=>{const x=p("el-option"),b=p("el-select"),g=p("el-input");return n(),f(g,D({modelValue:e.filter.value,"onUpdate:modelValue":i[1]||(i[1]=t=>e.filter.value=t),class:"my-input-with-select",clearable:"",onKeyup:F(h,["enter"])},o.$attrs),C({_:2},[e.filters.length>0?{name:"prepend",fn:_(()=>[B(b,{modelValue:e.filter.field,"onUpdate:modelValue":i[0]||(i[0]=t=>e.filter.field=t),style:{width:"100px"},onChange:V},{default:_(()=>[(n(!0),K(S,null,j(e.filters,t=>(n(),f(x,{key:t.field,label:t.description,value:t.field},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),key:"0"}:void 0]),1040,["modelValue","onKeyup"])}}});const pe=N(q,[["__scopeId","data-v-5d776b9c"]]);export{pe as default};

import{_ as g}from"./preload-helper.101896b7.js";import{d as D,a6 as b,r as O,O as U,w as B,S as m,e as n,f as V,z as o,m as l,F as E,B as F,u as p,l as d,t as q,x as L,L as N}from"./vue.df334614.js";import{_ as P}from"./_plugin-vue_export-helper.c27b6911.js";const j={class:"setting-container"},z=L(" 默认所有人"),A=D({name:"basice-setting"}),T=D({...A,props:{tabName:String,initiators:{},conf:{type:Object}},setup(y,{expose:v}){const c=y,w=b(()=>g(()=>import("./index.58f3b13d.js"),["assets/index.58f3b13d.js","assets/icon-select.22f9d3c3.js","assets/getStyleSheets.de5032d4.js","assets/index.4621962e.js","assets/vue.df334614.js","assets/_plugin-vue_export-helper.c27b6911.js","assets/icon-select.3edacd64.css"])),x=b(()=>g(()=>import("./index.a7cafc43.js"),["assets/index.a7cafc43.js","assets/user-select.fdd46137.js","assets/User.905b1cf5.js","assets/http-client.28a8ff7a.js","assets/index.de963593.js","assets/index.390778f0.js","assets/vue.df334614.js","assets/index.4621962e.js","assets/storage.6b2e7cd0.js","assets/org-menu.vue_vue_type_script_setup_true_lang.6d7eb461.js","assets/Org.791a1909.js","assets/tree.d5b28a07.js","assets/index.6c5a2d2c.js","assets/index.7cba2d6b.js","assets/index.f4a20413.js","assets/_Uint8Array.2a02cf9e.js","assets/index.e64efb6f.js","assets/_initCloneObject.115dee92.js","assets/focus-trap.ccecd842.js","assets/_plugin-vue_export-helper.c27b6911.js","assets/user-select.9baf66be.css","assets/org-select.vue_vue_type_script_setup_true_lang.1cbb9c1d.js","assets/role-select.vue_vue_type_script_setup_true_lang.c64fbe36.js","assets/Role.d52d88a4.js","assets/index.c0eb9a2b.css"])),{proxy:k}=N(),{bpm_group:I}=k.$dict("bpm-group"),S={name:"",icon:"",groupId:void 0,remark:"",range:0,initiators:{}},f=O(),e=U({dialogVisible:!1,formData:Object.assign({},S,c.conf),rules:{name:[{required:!0,message:"请输入审批名称",trigger:"blur"}],range:[{required:!0,message:"请选择谁可以发起审批",trigger:"change"}],icon:[{required:!0,message:"请选择图标",trigger:"change"}],groupId:[{required:!0,message:"请选择选择分组",trigger:"change"}]}}),h=async()=>new Promise((r,t)=>{f.value.validate(i=>{i?r(e.formData):t({msg:"",target:"basicSetting"})})});return B(()=>c.conf,r=>{typeof r=="object"&&r!==null&&(e.formData=r,e.formData.icon=r.icon)}),v({getSetting:h}),(r,t)=>{const i=m("el-input"),s=m("el-form-item"),u=m("el-option"),_=m("el-select"),R=m("el-form");return n(),V("div",j,[o(R,{ref_key:"elFormRef",ref:f,model:e.formData,rules:e.rules,size:"medium","label-width":"100px","label-position":"top"},{default:l(()=>[o(s,{label:"流程名称",prop:"name"},{default:l(()=>[o(i,{modelValue:e.formData.name,"onUpdate:modelValue":t[0]||(t[0]=a=>e.formData.name=a),placeholder:"请输入流程名称",clearable:"",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),o(s,{label:"选择分组",prop:"groupId"},{default:l(()=>[o(_,{modelValue:e.formData.groupId,"onUpdate:modelValue":t[1]||(t[1]=a=>e.formData.groupId=a),placeholder:"请选择选择分组",clearable:"",style:{width:"100%"}},{default:l(()=>[(n(!0),V(E,null,F(p(I),(a,C)=>(n(),d(u,{key:C,label:a.label,value:a.value,disabled:a.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(s,{label:"谁可以发起审批",prop:"range"},{default:l(()=>[o(_,{modelValue:e.formData.range,"onUpdate:modelValue":t[2]||(t[2]=a=>e.formData.range=a),style:{width:"100%"},placeholder:"请选择范围"},{default:l(()=>[(n(),d(u,{key:0,label:"所有人",value:0})),(n(),d(u,{key:1,label:"指定范围",value:1}))]),_:1},8,["modelValue"]),e.formData.range===1?(n(),d(p(x),{key:0,ref:"ouSelectRef",modelValue:e.formData.initiators,"onUpdate:modelValue":t[3]||(t[3]=a=>e.formData.initiators=a),tabs:["user","role","org"],multiple:""},{default:l(()=>[z]),_:1},8,["modelValue"])):q("",!0)]),_:1}),o(s,{label:"模板图标",prop:"icon"},{default:l(()=>[o(p(w),{modelValue:e.formData.icon,"onUpdate:modelValue":t[4]||(t[4]=a=>e.formData.icon=a),clearable:""},null,8,["modelValue"])]),_:1}),o(s,{label:"审批说明",prop:"remark"},{default:l(()=>[o(i,{modelValue:e.formData.remark,"onUpdate:modelValue":t[5]||(t[5]=a=>e.formData.remark=a),type:"textarea",placeholder:"请输入审批说明",maxlength:100,"show-word-limit":"",autosize:{minRows:4,maxRows:4},style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])])}}});const H=P(T,[["__scopeId","data-v-ea9cc60f"]]);export{H as default};

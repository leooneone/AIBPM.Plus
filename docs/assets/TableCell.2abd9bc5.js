import{_ as O}from"./preload-helper.101896b7.js";import{d as h,a6 as j,O as B,J as u,c as i,S as m,e as _,f as w,z as t,u as s,m as n,t as f,j as k,x as c}from"./vue.72f2672d.js";const T=["config","colspan","rowspan"],V={key:0,class:"table-cell-action"},z=c("向左插入1列"),E=c("向右插入1列"),P=c("向上插入1行"),L=c("向下插入1行"),H=c("合并右侧单元格"),J=c("合并下方单元格"),q=c("合并整行"),F=c("合并整列"),G=c("取消单元格合并"),K=c("删除整行"),Q=c("删除整列"),U=h({name:"table-cell"}),Z=h({...U,props:{activeId:String||Number,item:Object,conf:Object,rowIndex:Number,colIndex:Number,tableData:Object,index:String||Number},setup(a){const e=a,b=j(()=>O(()=>import("./RenderPanel.e9a557b9.js"),["assets/RenderPanel.e9a557b9.js","assets/RenderPanel.vue_vue_type_script_setup_true_name_render-panel_lang.2d0cb278.js","assets/preload-helper.101896b7.js","assets/vue.72f2672d.js"]));B({isShowMenu:!1});const g=u("onActiveCell"),p=()=>{g(e.rowIndex,e.colIndex)},v=u("IsActiveCell"),x=i(()=>v(e.rowIndex,e.colIndex)),I=i(()=>{var o=e.tableData.children[e.rowIndex].cols[e.colIndex],l=e.tableData.children[e.rowIndex].cols[e.colIndex+o.colSpan];return o.colSpan+e.colIndex<e.tableData.children[e.rowIndex].cols.length&&o.rowSpan===l.rowSpan}),C=i(()=>{var o=e.tableData.children,l=o[e.rowIndex].cols[e.colIndex];if(l.rowSpan+e.rowIndex>=o.length)return!1;var r=o[e.rowIndex+l.rowSpan].cols[e.colIndex];return!(r.isMerged||r.colSpan!==l.colSpan)}),S=i(()=>{var o=e.tableData.children[e.rowIndex].cols[e.colIndex];return o.colSpan>1||o.rowSpan>1}),M=i(()=>{var o=e.tableData.children;if(o[0].cols[e.colIndex].rowSpan===o.length)return!1;for(var l=0;l<o.length;l++){var r=o[l].cols[e.colIndex];if(!r.isMerged&&r.colSpan!==o[0].cols[e.colIndex].colSpan)return!1}return!0}),R=i(()=>{var o=e.tableData.children[e.rowIndex];if(o.cols[0].colSpan===o.cols.length)return!1;for(var l=0;l<o.cols.length;l++)if(!o.cols[l].isMerged&&o.cols[l].rowSpan!==o.cols[0].rowSpan)return!1;return!0}),D=u("cellOperate"),y=o=>{D(e.rowIndex,e.colIndex,o)};return(o,l)=>{const r=m("ele-Menu"),A=m("el-icon"),d=m("el-dropdown-item"),W=m("el-dropdown-menu"),N=m("el-dropdown");return a.item.isMerged?f("",!0):(_(),w("td",{key:0,onClick:p,config:a.item,style:k([{border:"1px dashed gray"},{width:a.item.cellWidth+" !important"||"",height:a.item.cellHeight+" !important"||"","word-break":a.item.wordBreak?"break-all":"normal"}]),class:"table-cell",colspan:a.item.colSpan||1,rowspan:a.item.rowSpan||1},[t(s(b),{style:{border:"1px solid pink"},"active-id":a.activeId,list:a.item.children,tag:"el-row",conf:a.conf,gutter:a.item.gutter,justify:"left"},null,8,["active-id","list","conf","gutter"]),a.conf.mode==="designer"&&s(x)?(_(),w("div",V,[t(N,{trigger:"click",onCommand:y,size:"small"},{dropdown:n(()=>[t(W,null,{default:n(()=>[t(d,{command:"insertLeftCol"},{default:n(()=>[z]),_:1}),t(d,{command:"insertRightCol"},{default:n(()=>[E]),_:1}),t(d,{command:"insertAboveRow"},{default:n(()=>[P]),_:1}),t(d,{command:"insertBelowRow"},{default:n(()=>[L]),_:1}),t(d,{command:"mergeRightCol",disabled:!s(I),divided:""},{default:n(()=>[H]),_:1},8,["disabled"]),t(d,{command:"mergeBelowRow",disabled:!s(C)},{default:n(()=>[J]),_:1},8,["disabled"]),t(d,{command:"mergeWholeRow",disabled:!s(R)},{default:n(()=>[q]),_:1},8,["disabled"]),t(d,{command:"mergeWholeCol",disabled:!s(M)},{default:n(()=>[F]),_:1},8,["disabled"]),t(d,{command:"splitMerged",disabled:!s(S),divided:""},{default:n(()=>[G]),_:1},8,["disabled"]),t(d,{command:"deleteWholeRow",disabled:!o.canDeleteWholeRow,divided:""},{default:n(()=>[K]),_:1},8,["disabled"]),t(d,{command:"deleteWholeCol",disabled:!o.canDeleteWholeCol},{default:n(()=>[Q]),_:1},8,["disabled"])]),_:1})]),default:n(()=>[t(A,{title:"操作"},{default:n(()=>[t(r)]),_:1})]),_:1})])):f("",!0)],12,T))}}});export{Z as default};

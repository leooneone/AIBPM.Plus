function p(r=[],u={},e=null){const{rootWhere:h,childsWhere:c,addChilds:t}=Object.assign({rootWhere:(o,n)=>n.parentId===0,childsWhere:(o,n)=>o.id===n.parentId,addChilds:(o,n)=>{(n==null?void 0:n.length)>0&&(o.children=n)}},u||{});let f=[];if(!((r==null?void 0:r.length)>0))return f;const a=r.filter(o=>h&&h(e,o));return(a==null?void 0:a.length)>0&&(f=f.concat(a),f.forEach(o=>{const n=r.filter(d=>c&&c(o,d));(n==null?void 0:n.length)>0&&(n.forEach(d=>{const g=p(r,{rootWhere:c,childsWhere:c,addChilds:t},d);t&&t(d,g)}),t&&t(o,n))})),f}function l(r,u,e=[],h=!0){r.forEach(c=>{e.push(c);const t=u(c);(t==null?void 0:t.length)>0&&l(t,u,e,h),h&&delete c.children})}function W(r=[],u=e=>e.children){const e=[];return(r==null?void 0:r.length)>0&&l(r,u,e),e}export{p as l,W as t};

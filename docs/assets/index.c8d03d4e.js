import{_}from"./preload-helper.101896b7.js";import{d as V,a6 as g,r as C,O,S as m,e as n,f as b,z as a,m as l,F as U,B,u as p,l as u,t as E,x as F,L as q}from"./vue.df334614.js";import{_ as L}from"./_plugin-vue_export-helper.c27b6911.js";const N={class:"setting-container"},P=F(" 默认所有人"),j=V({name:"basice-setting"}),z=V({...j,props:{tabName:String,initiators:{},conf:{type:Object}},setup(D,{expose:y}){const v=D,x=g(()=>_(()=>import("./index.58f3b13d.js"),["assets/index.58f3b13d.js","assets/icon-select.22f9d3c3.js","assets/getStyleSheets.de5032d4.js","assets/index.4621962e.js","assets/vue.df334614.js","assets/_plugin-vue_export-helper.c27b6911.js","assets/icon-select.3edacd64.css"])),k=g(()=>_(()=>import("./index.e0ad165c.js"),["assets/index.e0ad165c.js","assets/user-select.0622e36c.js","assets/User.4679a863.js","assets/http-client.ff22776c.js","assets/index.de963593.js","assets/index.390778f0.js","assets/vue.df334614.js","assets/index.4621962e.js","assets/storage.08e609be.js","assets/js.cookie.cf83ad76.js","assets/org-menu.vue_vue_type_script_setup_true_lang.2abc46e4.js","assets/Org.95a10495.js","assets/tree.d5b28a07.js","assets/index.6c5a2d2c.js","assets/index.7cba2d6b.js","assets/index.f4a20413.js","assets/_Uint8Array.2a02cf9e.js","assets/index.e64efb6f.js","assets/_initCloneObject.115dee92.js","assets/focus-trap.ccecd842.js","assets/_plugin-vue_export-helper.c27b6911.js","assets/user-select.9baf66be.css","assets/org-select.vue_vue_type_script_setup_true_lang.c26e97f7.js","assets/role-select.vue_vue_type_script_setup_true_lang.d0b8f7bd.js","assets/Role.14cde0b3.js","assets/index.c0eb9a2b.css"])),{proxy:w}=q(),{bpm_group:S}=w.$dict("bpm-group"),I={name:"",icon:"",groupId:void 0,remark:"",range:0,initiators:{}},c=C(),e=O({dialogVisible:!1,formData:Object.assign({},I,v.conf),rules:{name:[{required:!0,message:"请输入审批名称",trigger:"blur"}],range:[{required:!0,message:"请选择谁可以发起审批",trigger:"change"}],icon:[{required:!0,message:"请选择图标",trigger:"change"}],groupId:[{required:!0,message:"请选择选择分组",trigger:"change"}]}});return y({getSetting:async()=>new Promise((r,o)=>{c.value.validate(i=>{i?r(e.formData):o({msg:"",target:"basicSetting"})})}),setSetting:r=>{typeof r=="object"&&r!==null&&(e.formData=r,e.formData.icon=r.icon)}}),(r,o)=>{const i=m("el-input"),s=m("el-form-item"),d=m("el-option"),f=m("el-select"),R=m("el-form");return n(),b("div",N,[a(R,{ref_key:"elFormRef",ref:c,model:e.formData,rules:e.rules,size:"medium","label-width":"100px","label-position":"top"},{default:l(()=>[a(s,{label:"流程名称",prop:"name"},{default:l(()=>[a(i,{modelValue:e.formData.name,"onUpdate:modelValue":o[0]||(o[0]=t=>e.formData.name=t),placeholder:"请输入流程名称",clearable:"",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(s,{label:"选择分组",prop:"groupId"},{default:l(()=>[a(f,{modelValue:e.formData.groupId,"onUpdate:modelValue":o[1]||(o[1]=t=>e.formData.groupId=t),placeholder:"请选择选择分组",clearable:"",style:{width:"100%"}},{default:l(()=>[(n(!0),b(U,null,B(p(S),(t,h)=>(n(),u(d,{key:h,label:t.label,value:t.value,disabled:t.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(s,{label:"谁可以发起审批",prop:"range"},{default:l(()=>[a(f,{modelValue:e.formData.range,"onUpdate:modelValue":o[2]||(o[2]=t=>e.formData.range=t),style:{width:"100%"},placeholder:"请选择范围"},{default:l(()=>[(n(),u(d,{key:0,label:"所有人",value:0})),(n(),u(d,{key:1,label:"指定范围",value:1}))]),_:1},8,["modelValue"]),e.formData.range===1?(n(),u(p(k),{key:0,ref:"ouSelectRef",modelValue:e.formData.initiators,"onUpdate:modelValue":o[3]||(o[3]=t=>e.formData.initiators=t),tabs:["user","role","org"],multiple:""},{default:l(()=>[P]),_:1},8,["modelValue"])):E("",!0)]),_:1}),a(s,{label:"模板图标",prop:"icon"},{default:l(()=>[a(p(x),{modelValue:e.formData.icon,"onUpdate:modelValue":o[4]||(o[4]=t=>e.formData.icon=t),clearable:""},null,8,["modelValue"])]),_:1}),a(s,{label:"审批说明",prop:"remark"},{default:l(()=>[a(i,{modelValue:e.formData.remark,"onUpdate:modelValue":o[5]||(o[5]=t=>e.formData.remark=t),type:"textarea",placeholder:"请输入审批说明",maxlength:100,"show-word-limit":"",autosize:{minRows:4,maxRows:4},style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])])}}});const H=L(z,[["__scopeId","data-v-c490e537"]]);export{H as default};

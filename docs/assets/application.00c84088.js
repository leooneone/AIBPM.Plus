import{_ as h}from"./preload-helper.101896b7.js";import{W as j}from"./WorkflowTemplate.e2e42b1a.js";import{g as M}from"./http-client.3dda918f.js";import{d as S,a6 as b,r as W,c as k,O as J,o as q,S as l,a4 as I,p as w,e,f as i,l as d,m as p,F as C,B,z as g,u as P,x as z,L as G,g as t,y as u,n as y,j as f}from"./vue.72f2672d.js";import{_ as H}from"./_plugin-vue_export-helper.c27b6911.js";import"./http-client.e9da71d4.js";import"./index.57385bce.js";import"./index.0c380c40.js";import"./index.41e0794f.js";import"./storage.6b2e7cd0.js";const K=z("新建流程模板"),Q={class:"home-container",style:{margin:"10px 10px 10px 10px"}},U={style:{"border-left":"3px solid #409eff","padding-left":"5px","margin-bottom":"5px","font-size":"20px"}},X=["onClick"],Y={class:"flex-auto"},Z={class:"font22"},ee={class:"mt10"},te=S({name:"bpm/application"}),oe=S({...te,setup(se){b(()=>h(()=>import("./test.8ecba791.js"),["assets/test.8ecba791.js","assets/vue.72f2672d.js","assets/_plugin-vue_export-helper.c27b6911.js","assets/test.7df3ce3b.css"]));const E=b(()=>h(()=>import("./myForm.21cafcf4.js"),["assets/myForm.21cafcf4.js","assets/preload-helper.101896b7.js","assets/data-contracts.9d84138f.js","assets/http-client.e9da71d4.js","assets/index.57385bce.js","assets/index.0c380c40.js","assets/vue.72f2672d.js","assets/index.41e0794f.js","assets/storage.6b2e7cd0.js","assets/_plugin-vue_export-helper.c27b6911.js","assets/myForm.8bf82b27.css"])),{proxy:O}=G(),{dic_bpm_group:T}=O.$dict("bpm-group"),x=W();k(()=>"//api/admin/file/upload-file"),k(()=>({Authorization:"Bearer "+M()}));const o=J({loading:!0,pageInput:{currentPage:1,pageSize:20},templates:[]}),A=(s,_)=>{let n={};return s.forEach(function(r){let c=JSON.stringify(_(r));n[c]=n[c]||[],n[c].push(r)}),Object.keys(n).map(function(r){return n[r]})},D=async()=>{o.loading=!0;const s=await new j().listPublished();s.success&&(o.templates=A(s.data,function(_){return[_.groupId]})),o.loading=!1},L=s=>{x.value.open({type:2,templateId:s})};return q(()=>{D()}),(s,_)=>{const n=l("el-button"),r=l("el-empty"),c=l("el-tag"),V=l("SvgIcon"),F=l("el-col"),N=l("el-row"),R=I("auth"),$=I("loading");return w((e(),i("section",null,[!o.loading&&o.templates.length===0?(e(),d(r,{key:0,description:"没有流程模板可用"},{default:p(()=>[w((e(),d(n,{class:"ele-Plus",type:"primary"},{default:p(()=>[K]),_:1})),[[R,"api:bpm:template:control"]])]),_:1})):(e(!0),i(C,{key:1},B(o.templates,v=>(e(),i("section",Q,[t("div",U,u(P(T)[v[0].groupId]),1),g(N,{gutter:15,class:"home-card-one mb15"},{default:p(()=>[(e(!0),i(C,null,B(v,(a,m)=>(e(),d(F,{xs:24,sm:12,md:12,lg:6,xl:6,key:m,style:{"margin-top":"15px"},class:y({"home-media home-media-lg":m>1,"home-media-sm":m===1})},{default:p(()=>[t("div",{class:"home-card-item flex",onClick:ne=>L(a.id),style:{cursor:"pointer"}},[t("div",{class:y(["flex-margin flex w100",` home-one-animation${m}`])},[t("div",Y,[t("span",Z,u(a.name||"未命名流程"),1),t("span",{class:"ml5 font16",style:f({color:"var(--next-color-danger-lighter))"})},[g(c,null,{default:p(()=>[z("版本："+u(a.version),1)]),_:2},1024)],4),t("div",ee,u(a.remark),1)]),t("div",{class:"home-card-item-icon flex",style:f({background:"var(--next-color-success-lighter)"})},[a.icon.indexOf("ele")===0?(e(),d(V,{key:0,class:"flex-margin font32",name:a.icon,style:f({color:"var(--el-color-success)"})},null,8,["name","style"])):(e(),i("i",{key:1,class:y(["flex-margin font32",a.icon]),style:f({color:"var(--el-color-success)"})},null,6))],4)],2)],8,X)]),_:2},1032,["class"]))),128))]),_:2},1024)]))),256)),g(P(E),{ref_key:"formRef",ref:x},null,512)])),[[$,o.loading]])}}});const fe=H(oe,[["__scopeId","data-v-89719b6f"]]);export{fe as default};
